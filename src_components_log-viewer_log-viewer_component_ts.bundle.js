(self["webpackChunk_egadams_monitor_led"] = self["webpackChunk_egadams_monitor_led"] || []).push([["src_components_log-viewer_log-viewer_component_ts"],{

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_modifiers.css":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_modifiers.css ***!
  \********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_variables.css":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_variables.css ***!
  \********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":host {\r\n\r\n}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/local_styles.css":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/local_styles.css ***!
  \**********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "/*\n * local styles\n */\n.screen-area {\n    background: black;\n    color: white;\n    border: solid 0.1px;\n    height: 400px;\n    overflow: auto;\n    z-index: 10;\n    text-align: left;\n    padding: 3px; }\n\n.log-object-container {\n    column-gap: 15px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 0.1px;\n    border: solid 0.0px;\n    margin-bottom: 3px; }\n\nli { list-style: none; }\n", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/components/log-viewer/styles/main.css":
/*!***************************************************!*\
  !*** ./src/components/log-viewer/styles/main.css ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_local_styles_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./local_styles.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/local_styles.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_styles_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!../../../styles.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_variables_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./_variables.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_variables.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_modifiers_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./_modifiers.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/log-viewer/styles/_modifiers.css");
// Imports





var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_local_styles_css__WEBPACK_IMPORTED_MODULE_1__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_styles_css__WEBPACK_IMPORTED_MODULE_2__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_variables_css__WEBPACK_IMPORTED_MODULE_3__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_modifiers_css__WEBPACK_IMPORTED_MODULE_4__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "* {\r\n    border: 0;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: none;\r\n    outline: none;\r\n}\r\n", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/components/log-viewer/log-viewer.html":
/*!***************************************************!*\
  !*** ./src/components/log-viewer/log-viewer.html ***!
  \***************************************************/
/***/ ((module) => {

// Module
var code = "<!--\r\n/** \r\n *  log viewer template\r\n */\r\n-->\r\n<div class=\"screen-area\">\r\n    <!-- <h1 class=\"object-name\"></h1> -->\r\n    <ol class=\"list-of-log-objects\"></ol>\r\n</div>\r\n";
// Exports
module.exports = code;

/***/ }),

/***/ "./src/components/log-viewer/log-viewer.component.ts":
/*!***********************************************************!*\
  !*** ./src/components/log-viewer/log-viewer.component.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogViewer": () => (/* binding */ LogViewer)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _log_viewer_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./log-viewer.html */ "./src/components/log-viewer/log-viewer.html");
/* harmony import */ var _log_viewer_html__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_log_viewer_html__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _styles_main_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/main.css */ "./src/components/log-viewer/styles/main.css");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils */ "./src/utils.ts");
/* harmony import */ var _typescript_source_concrete_LogObjectContainerSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/typescript_source/concrete/LogObjectContainerSource */ "./src/typescript_source/concrete/LogObjectContainerSource.ts");
/* harmony import */ var _typescript_source_concrete_SourceConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/typescript_source/concrete/SourceConfig */ "./src/typescript_source/concrete/SourceConfig.ts");






let LogViewer = class LogViewer {
    $el;
    $host;
    static observedAttributes() { } // return an array containing the names of the attributes you want to observe
    $log_viewer_container; //   <div class="screen-area"> 
    $object_name_header; //       <h1 class="object-name"></h1>
    $list_of_log_objects; //       <div class="list-of-log-objects"></div>
    $cloneable_log_object; //       <log-object class="cloneable-log-object">terminal ready.
    //       <!-- clone me --></log-object>
    //   </div>
    object_name = "";
    // logs:                 ILogObject[] = [];
    monitored_object_id = "";
    data_source_location = "";
    log_length = 0;
    logObjectContainerSource;
    get logs() {
        console.log('logs read');
        return [];
    }
    set logs(logObjects) {
        console.log('prop written, new value', logObjects);
        if (logObjects.length !== this.log_length) {
            console.log("length changed! ");
            this.log_length = logObjects.length;
            this.displayLogObjects(logObjects, this);
        }
    }
    constructor($el, $host) {
        this.$el = $el;
        this.$host = $host;
        this.data_source_location = $host.getAttribute("data_source_location"),
            this.monitored_object_id = $host.getAttribute("monitored_object_id");
    }
    /**
     * Invoked each time the custom element is appended into a document-connected element.
     * This will happen each time the node is moved, and may happen before the element's contents have been fully parsed.
     */
    connectedCallback() {
        console.log('defining log viewer elements...');
        this.$log_viewer_container = this.$el.querySelector(".screen-area");
        this.$object_name_header = this.$log_viewer_container.querySelector(".object-name");
        this.$list_of_log_objects = this.$log_viewer_container.querySelector(".list-of-log-objects");
        // this.$object_name_header.innerHTML = this.monitored_object_id;
        const logObjectSourceConfiguration = new _typescript_source_concrete_SourceConfig__WEBPACK_IMPORTED_MODULE_4__.SourceConfig("url", this.data_source_location, this.monitored_object_id);
        this.logObjectContainerSource = new _typescript_source_concrete_LogObjectContainerSource__WEBPACK_IMPORTED_MODULE_3__.LogObjectContainerSource(logObjectSourceConfiguration);
        this.start();
    }
    disconnectedCallback() { console.log('log-viewer disconnected'); }
    adoptedCallback() { console.log('log-viewer moved'); }
    /**
     * Invoked each time one of the custom element's attributes is added, removed, or changed.
     * Which attributes to notice change for is specified in a static get observedAttributes method
     *
     * @param name
     * @param oldValue
     * @param newValue
     */
    attributeChangedCallback(name, oldValue, newValue) {
        const nameProp = name.replace(/-[a-zA-Z]/g, (found) => found.slice(1).toUpperCase());
        this[nameProp] = newValue;
    }
    start() {
        setInterval(() => {
            console.log("refreshing logs... ");
            this.logObjectContainerSource.refresh();
            this.logs = this.logObjectContainerSource.logObjectProcessor.getWrittenLogs();
        }, 1000);
    }
    displayLogObjects(logObjects, logViewer) {
        console.log("displaying log objects...");
        logObjects.forEach(log_object => {
            let formatted_time_stamp = new Date(log_object?.timestamp).toLocaleString();
            let li_inner_html = `
                <div class="log-object-container">
                    <div class="timestamp">${formatted_time_stamp}</div>
                    <div class="method"   >${log_object.method}</div>
                    <div class="message"  >${log_object.message}</div>
                </div>`;
            let $new_list_element = document.createElement('li');
            $new_list_element.innerHTML = li_inner_html;
            this.$list_of_log_objects.appendChild($new_list_element);
        });
    }
};
LogViewer = (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.Component)({ html: (_log_viewer_html__WEBPACK_IMPORTED_MODULE_0___default()), style: _styles_main_css__WEBPACK_IMPORTED_MODULE_1__["default"], properties: ["logs"] })
], LogViewer);

// Ref.: https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements


/***/ }),

/***/ "./src/typescript_source/concrete/FetchRunner.ts":
/*!*******************************************************!*\
  !*** ./src/typescript_source/concrete/FetchRunner.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FetchRunner)
/* harmony export */ });
/** @class FetchRunner class */
class FetchRunner {
    url;
    url_encoded_header;
    json_header;
    fetch_options;
    constructor(config) {
        this.url = config.api_path;
        this.url_encoded_header = { "Content-Type": "application/x-www-form-urlencoded" };
        this.json_header = { "Content-Type": "application/json" };
    } // establish communication address and define header objects.
    async run(apiArgs, callbackObject) {
        this.fetch_options = {
            method: apiArgs.type,
            mode: apiArgs.type === "POST" ? /* POST */ 'no-cors' : /* GET */ undefined,
            headers: apiArgs.type === "POST" ? /* POST */ this.json_header : /* GET */ this.url_encoded_header,
            body: apiArgs.type === "POST" ? /* POST */ JSON.stringify(apiArgs) : /* GET */ undefined
        };
        try {
            fetch(this.url, this.fetch_options).then(res => {
                return res.text();
            }).then(data => {
                callbackObject.processQueryResult(callbackObject, data);
            });
        }
        catch (fetch_error) {
            console.log(fetch_error);
        }
    }
}
// xhr.setRequestHeader( "Content-Type", "application/x-www-form-urlencoded" ); // allows "sql="... syntax!


/***/ }),

/***/ "./src/typescript_source/concrete/FreshToolBox.ts":
/*!********************************************************!*\
  !*** ./src/typescript_source/concrete/FreshToolBox.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FreshToolBox)
/* harmony export */ });
/* eslint-disable functional/prefer-readonly-type */
/* eslint-disable functional/no-throw-statement */
/* eslint-disable functional/no-class */
/**
 *  @class FreshToolBox
 *
 *  @description
 *  tools that I frequently use.
 *
 */
class FreshToolBox {
    constructor() { console.log("constructing fresh tool box..."); }
    /**
     * @method removeObjectFromArray
     * @description
     * removes an object from an array of any type of objects.
     *
     * @param {unknown} objectToRemove
     * @param {Array< unknown >} arrayToRemoveItFrom
     * @return {*}  {Array< unknown >}
     * @memberof FreshToolBox
     */
    // eslint-disable-next-line functional/no-return-void
    static removeSpecificObjectFromArray(objectToRemove, arrayToRemoveItFrom) {
        arrayToRemoveItFrom.splice(arrayToRemoveItFrom.indexOf(objectToRemove), 1);
    }
    static capitalizeFirstLetter(stringToUppercase) {
        return stringToUppercase.charAt(0).toUpperCase() + stringToUppercase.slice(1);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    static isInArray(objectToSearchFor, arrayToSearch) {
        // eslint-disable-next-line functional/no-loop-statement
        for (const element in arrayToSearch) {
            if (arrayToSearch[element].id == objectToSearchFor.id) {
                return true;
            }
        }
        return false;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    static assert(condition, msg) {
        if (!condition) {
            throw new Error(msg);
        }
    }
}


/***/ }),

/***/ "./src/typescript_source/concrete/LogObjectContainer.ts":
/*!**************************************************************!*\
  !*** ./src/typescript_source/concrete/LogObjectContainer.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogObjectContainer": () => (/* binding */ LogObjectContainer)
/* harmony export */ });
/* harmony import */ var _FreshToolBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FreshToolBox */ "./src/typescript_source/concrete/FreshToolBox.ts");

/**
 * @description
 * container for log objects.
 *
 * @class LogObjectContainer
 */
class LogObjectContainer {
    logObjects = [];
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    constructor() { }
    addLog(logToAdd) {
        if (!_FreshToolBox__WEBPACK_IMPORTED_MODULE_0__["default"].isInArray(logToAdd, this.logObjects)) {
            this.logObjects.push(logToAdd);
        }
    }
    getLogObjects() { return this.logObjects; }
    clearLogs() { this.logObjects = []; }
}


/***/ }),

/***/ "./src/typescript_source/concrete/LogObjectContainerSource.ts":
/*!********************************************************************!*\
  !*** ./src/typescript_source/concrete/LogObjectContainerSource.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogObjectContainerSource": () => (/* binding */ LogObjectContainerSource)
/* harmony export */ });
/* harmony import */ var _FetchRunner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FetchRunner */ "./src/typescript_source/concrete/FetchRunner.ts");
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Model */ "./src/typescript_source/concrete/Model.ts");
/* harmony import */ var _SourceData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SourceData */ "./src/typescript_source/concrete/SourceData.ts");
/* harmony import */ var _concrete_LogObjectContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../concrete/LogObjectContainer */ "./src/typescript_source/concrete/LogObjectContainer.ts");
/* harmony import */ var _LogObjectProcessor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LogObjectProcessor */ "./src/typescript_source/concrete/LogObjectProcessor.ts");





class LogObjectContainerSource {
    logObjectContainer;
    logObjectProcessor;
    model;
    config;
    source_query_config;
    constructor(_config) {
        this.config = _config;
        this.logObjectContainer = new _concrete_LogObjectContainer__WEBPACK_IMPORTED_MODULE_3__.LogObjectContainer();
        this.logObjectProcessor = new _LogObjectProcessor__WEBPACK_IMPORTED_MODULE_4__.LogObjectProcessor(this.logObjectContainer);
        this.model = new _Model__WEBPACK_IMPORTED_MODULE_1__["default"](new _SourceData__WEBPACK_IMPORTED_MODULE_2__["default"]({ Runner: _FetchRunner__WEBPACK_IMPORTED_MODULE_0__["default"], url: _config.location }));
        this.source_query_config = { object_view_id: _config.object_id, object_data: {} };
    }
    getWrittenLogs() { return this.logObjectProcessor.getWrittenLogs(); }
    refresh() {
        if (this.config.type === "url") {
            this.refreshFromDatabase();
        }
        else if (this.config.type === "file") {
            this.refreshFromFile(this.config.location);
        }
    }
    refreshFromDatabase() { this.model.selectObject(this.source_query_config, this); }
    processQueryResult(resultProcessor, result) {
        if (result.length == 0 || result.trim() == "null") {
            return;
        }
        const object_data = JSON.parse(JSON.parse(result).object_data);
        const logObjects = object_data.logObjects;
        for (const logObject of logObjects) {
            resultProcessor.logObjectContainer.addLog(logObject);
        }
        resultProcessor.logObjectProcessor.updateQue();
        resultProcessor.logObjectProcessor.processLogObjects();
    }
    refreshFromFile(file_path) {
        fetch(file_path)
            .then(response => response.text())
            .then(text => {
            text = text.split('\r').join(''); // if performance is an issue, change this maybe.
            const file_array = text.split("\n");
            const log_objects = [];
            let parsed_line = { id: "", timestamp: 0, message: "", method: "" };
            for (const line of file_array) {
                if (line.length > 0) {
                    try {
                        parsed_line = JSON.parse(line);
                    }
                    catch (error) {
                        console.error("error parsing line: " + line);
                    }
                    log_objects.push(parsed_line);
                }
            }
            for (const logObject of log_objects) {
                this.logObjectContainer.addLog(logObject);
            }
            this.logObjectProcessor.updateQue(); // from log object container to internal Q
            this.logObjectProcessor.processLogObjects(); // from internal Q to written log objects
        });
    }
}


/***/ }),

/***/ "./src/typescript_source/concrete/LogObjectProcessor.ts":
/*!**************************************************************!*\
  !*** ./src/typescript_source/concrete/LogObjectProcessor.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogObjectProcessor": () => (/* binding */ LogObjectProcessor)
/* harmony export */ });
/* harmony import */ var _FreshToolBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FreshToolBox */ "./src/typescript_source/concrete/FreshToolBox.ts");
/**
 * @description
 *   Maintains an array of written and unwritten logs from
 *   a container of log objects that is passed in on construction.
 *
 * @class LogObjectProcessor
 */

class LogObjectProcessor {
    logObjectContainer;
    writtenLogs = [];
    unwrittenLogs = [];
    constructor(logObjectContainerArg) {
        console.log('constructing LogObjectProcessor object...');
        this.logObjectContainer = logObjectContainerArg;
    }
    updateQue() {
        const freshData = this.logObjectContainer.getLogObjects();
        for (const logObject in freshData) {
            this.addLog(freshData[logObject]);
        }
    }
    addLog(logToAdd) {
        if (!_FreshToolBox__WEBPACK_IMPORTED_MODULE_0__["default"].isInArray(logToAdd, this.writtenLogs)) {
            this.unwrittenLogs.push(logToAdd);
        }
    }
    processLogObjects() {
        for (const logObject in this.unwrittenLogs) {
            this.writtenLogs.push(this.unwrittenLogs[logObject]);
        }
        this.unwrittenLogs = [];
    }
    getWrittenLogs() {
        return this.writtenLogs;
    }
    getUnwrittenLogs() {
        return this.unwrittenLogs;
    }
    clearLogs() {
        this.writtenLogs = [];
        this.unwrittenLogs = [];
        this.logObjectContainer.clearLogs();
    }
}


/***/ }),

/***/ "./src/typescript_source/concrete/Model.ts":
/*!*************************************************!*\
  !*** ./src/typescript_source/concrete/Model.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Model)
/* harmony export */ });
/** @class Model */
/**
 * Creates a new Model instance and hooks up the sourceData.
 *
 * @constructor
 * @param {object} sourceData A reference to the client side sourceData class
 */
class Model {
    sourceData;
    constructor(sourceData) { this.sourceData = sourceData; }
    /**
     * selects one object from the database
     *
     * @param { function } [ callbackObject ] The callbackObject to fire after the object has been retrieved
     */
    selectObject(query_config, callbackObject) {
        this.sourceData.selectObject(query_config, callbackObject);
    }
    /**
     * Gets all objects from the database
     *
     * @param { function } [ callbackObject ] The callbackObject to fire after the objects have been retrieved
     */
    selectAllObjects(callbackObject) { this.sourceData.selectAllObjects(callbackObject); }
    /**
     * Will insert an object into the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after inserting new data
     */
    insertObject(query_config, callbackObject) { this.sourceData.insertObject(query_config, callbackObject); }
    /**
     * Will update an existing object in the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after the update
     */
    updateObject(query_config, callbackObject) { this.sourceData.updateObject(query_config, callbackObject); }
}


/***/ }),

/***/ "./src/typescript_source/concrete/SourceConfig.ts":
/*!********************************************************!*\
  !*** ./src/typescript_source/concrete/SourceConfig.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SourceConfig": () => (/* binding */ SourceConfig)
/* harmony export */ });
class SourceConfig {
    type;
    location;
    object_id;
    constructor(_type, _location, object_id) {
        this.type = _type;
        this.location = _location;
        this.object_id = object_id;
    }
}


/***/ }),

/***/ "./src/typescript_source/concrete/SourceData.ts":
/*!******************************************************!*\
  !*** ./src/typescript_source/concrete/SourceData.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SourceData)
/* harmony export */ });
/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 *
 * @param {object} configuration_object {
 *     runner: xhr, fetch, or some other object that makes AJAX calls
 *     url   : the place where the runner is going to make the api call
 * }
 * The call type, object id and object data
 * @param {function} callbackObject
 *
 */
class SourceData {
    RunnerObject;
    url;
    constructor(configuration_object) {
        this.RunnerObject = configuration_object.Runner;
        this.url = configuration_object.url;
    }
    /**
     * selects all objects from the database
     * @param {function} callbackObject The callbackObject to fire upon retrieving data
     */
    selectAllObjects(callbackObject) {
        const api_path = this.url + "object/selectAll";
        const runner = new this.RunnerObject(api_path);
        const run_config = { type: "GET" };
        runner.run(run_config, callbackObject);
    }
    /**
     * selects one object from the database
     * @param {function} callbackObject The callbackObject to fire upon retrieving data
     */
    selectObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/select/" + query_config.object_view_id };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "GET", object_view_id: query_config.object_view_id };
        runner.run(run_config, callbackObject);
    }
    /**
     * Will insert an object into the database.
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after inserting new data
     */
    insertObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/insert" };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "POST",
            object_view_id: query_config.object_view_id,
            object_data: query_config.object_data };
        runner.run(run_config, callbackObject);
    }
    /**
     * Will update an existing object in the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after the update
     *
     * @example
     * updateObject( { "object_view_id": "Parser_5", "object_data": { "led_color": "red"}}, callbackObject.processQueryResult ) {
     *     // will update object with object_view_id Parser_5's led_color to red.
     * });
     */
    updateObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/update" };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "POST",
            object_view_id: query_config.object_view_id,
            object_data: query_config.object_data };
        runner.run(run_config, callbackObject);
    }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX2NvbXBvbmVudHNfbG9nLXZpZXdlcl9sb2ctdmlld2VyX2NvbXBvbmVudF90cy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDa0c7QUFDbEcsOEJBQThCLG1GQUEyQixhQUFhLFlBQVk7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ052QztBQUNrRztBQUNsRyw4QkFBOEIsbUZBQTJCLGFBQWEsWUFBWTtBQUNsRjtBQUNBLGlEQUFpRCxTQUFTO0FBQzFEO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ052QztBQUNrRztBQUNsRyw4QkFBOEIsbUZBQTJCLGFBQWEsWUFBWTtBQUNsRjtBQUNBLGtGQUFrRix3QkFBd0IsbUJBQW1CLDBCQUEwQixvQkFBb0IscUJBQXFCLGtCQUFrQix1QkFBdUIscUJBQXFCLDJCQUEyQix1QkFBdUIsb0JBQW9CLDBCQUEwQixrQ0FBa0MsMEJBQTBCLHFCQUFxQiwwQkFBMEIsMkJBQTJCLFNBQVMsbUJBQW1CO0FBQ2hnQjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTnZDO0FBQ2tHO0FBQ3dDO0FBQ0M7QUFDSDtBQUNBO0FBQ3hJLDhCQUE4QixtRkFBMkIsYUFBYSxZQUFZO0FBQ2xGLDBCQUEwQiwrR0FBaUM7QUFDM0QsMEJBQTBCLHlHQUFpQztBQUMzRCwwQkFBMEIsNEdBQWlDO0FBQzNELDBCQUEwQiw0R0FBaUM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2R2QztBQUN5RjtBQUN6Riw4QkFBOEIsbUZBQTJCLGFBQWEsWUFBWTtBQUNsRjtBQUNBLDZDQUE2QyxrQkFBa0Isa0JBQWtCLG1CQUFtQix5QkFBeUIsc0JBQXNCLEtBQUs7QUFDeEo7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7QUNOdkM7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSHFDO0FBQ0M7QUFDRjtBQUU2RDtBQUN4QjtBQUdsRSxJQUFNLFNBQVMsR0FBZixNQUFNLFNBQVM7SUErQkc7SUFBMEI7SUE5Qi9DLE1BQU0sQ0FBQyxrQkFBa0IsS0FBSSxDQUFDLENBQUMsNkVBQTZFO0lBRTVHLHFCQUFxQixDQUFpQixDQUFNLCtCQUErQjtJQUM5RSxtQkFBbUIsQ0FBbUIsQ0FBTSxzQ0FBc0M7SUFDbEYsb0JBQW9CLENBQWtCLENBQU0sZ0RBQWdEO0lBQ3pGLHFCQUFxQixDQUFpQixDQUFNLGlFQUFpRTtJQUNqRSx1Q0FBdUM7SUFDdkMsV0FBVztJQUN2RCxXQUFXLEdBQTBCLEVBQUUsQ0FBQztJQUN4QywyQ0FBMkM7SUFDM0MsbUJBQW1CLEdBQWtCLEVBQUUsQ0FBQztJQUN4QyxvQkFBb0IsR0FBaUIsRUFBRSxDQUFDO0lBQ3hDLFVBQVUsR0FBNEIsQ0FBQyxDQUFDO0lBQ3hDLHdCQUF3QixDQUE0QjtJQUlwRCxJQUFJLElBQUk7UUFDSixPQUFPLENBQUMsR0FBRyxDQUFFLFdBQVcsQ0FBRSxDQUFDO1FBQzNCLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVELElBQUksSUFBSSxDQUFFLFVBQXdCO1FBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsVUFBVSxDQUFFLENBQUM7UUFDcEQsSUFBSyxVQUFVLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUc7WUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQztZQUNwQyxJQUFJLENBQUMsaUJBQWlCLENBQUUsVUFBVSxFQUFFLElBQUksQ0FBRSxDQUFDO1NBQzlDO0lBQ0wsQ0FBQztJQUNELFlBQXFCLEdBQWdCLEVBQVUsS0FBYztRQUF4QyxRQUFHLEdBQUgsR0FBRyxDQUFhO1FBQVUsVUFBSyxHQUFMLEtBQUssQ0FBUztRQUN6RCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBRSxzQkFBc0IsQ0FBRztZQUN6RSxJQUFJLENBQUMsbUJBQW1CLEdBQUksS0FBSyxDQUFDLFlBQVksQ0FBRSxxQkFBcUIsQ0FBSTtJQUM3RSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsaUJBQWlCO1FBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBRSxpQ0FBaUMsQ0FBRSxDQUFDO1FBQ2pELElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBb0IsY0FBYyxDQUFZLENBQUM7UUFDbEcsSUFBSSxDQUFDLG1CQUFtQixHQUFLLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLENBQUUsY0FBYyxDQUFZLENBQUM7UUFDbEcsSUFBSSxDQUFDLG9CQUFvQixHQUFJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLENBQUUsc0JBQXNCLENBQUksQ0FBQztRQUNsRyxpRUFBaUU7UUFDakUsTUFBTSw0QkFBNEIsR0FBRyxJQUFJLGtGQUFZLENBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUUsQ0FBQztRQUNwSCxJQUFJLENBQUMsd0JBQXdCLEdBQVEsSUFBSSwwR0FBd0IsQ0FBRSw0QkFBNEIsQ0FBRSxDQUFDO1FBQ2xHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsb0JBQW9CLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBRSx5QkFBeUIsQ0FBRSxDQUFDLENBQUMsQ0FBQztJQUNwRSxlQUFlLEtBQVUsT0FBTyxDQUFDLEdBQUcsQ0FBTyxrQkFBa0IsQ0FBSSxDQUFDLENBQUMsQ0FBQztJQUVwRTs7Ozs7OztPQU9HO0lBQ0gsd0JBQXdCLENBQUUsSUFBWSxFQUFFLFFBQWEsRUFBRSxRQUFhO1FBQ2hFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUUsWUFBWSxFQUFFLENBQUUsS0FBYSxFQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFFLENBQUMsQ0FBRSxDQUFDLFdBQVcsRUFBRSxDQUFFLENBQUM7UUFDakcsSUFBYSxDQUFFLFFBQVEsQ0FBRSxHQUFHLFFBQVEsQ0FBQztJQUFDLENBQUM7SUFFN0MsS0FBSztRQUNELFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDYixPQUFPLENBQUMsR0FBRyxDQUFFLHFCQUFxQixDQUFFLENBQUM7WUFDckMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLGtCQUFrQixDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQUMsQ0FBQyxFQUFFLElBQUksQ0FBRSxDQUFDO0lBQUMsQ0FBQztJQUVuRyxpQkFBaUIsQ0FBRSxVQUF3QixFQUFFLFNBQW9CO1FBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUUsMkJBQTJCLENBQUUsQ0FBQztRQUMzQyxVQUFVLENBQUMsT0FBTyxDQUFFLFVBQVUsQ0FBQyxFQUFFO1lBQzdCLElBQUksb0JBQW9CLEdBQUcsSUFBSSxJQUFJLENBQUUsVUFBVSxFQUFFLFNBQVMsQ0FBRSxDQUFDLGNBQWMsRUFBRTtZQUM3RSxJQUFJLGFBQWEsR0FBRzs7NkNBRWMsb0JBQXFCOzZDQUNyQixVQUFVLENBQUMsTUFBVTs2Q0FDckIsVUFBVSxDQUFDLE9BQVU7dUJBQzVDLENBQUM7WUFDWixJQUFJLGlCQUFpQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUUsSUFBSSxDQUFFLENBQUM7WUFDdkQsaUJBQWlCLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBQztZQUM1QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFFLGlCQUFpQixDQUFFLENBQUM7UUFDL0QsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUF2RlksU0FBUztJQURyQixpREFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLHlEQUFJLEVBQUUsS0FBSyxFQUFFLHdEQUFLLEVBQUUsVUFBVSxFQUFFLENBQUUsTUFBTSxDQUFFLEVBQUMsQ0FBQztHQUNsRCxTQUFTLENBdUZyQjtBQXZGcUI7QUF5RnRCLDBGQUEwRjs7Ozs7Ozs7Ozs7Ozs7OztBQy9GMUYsK0JBQStCO0FBQ2hCLE1BQU0sV0FBVztJQUM1QixHQUFHLENBQXdCO0lBQzNCLGtCQUFrQixDQUEyQjtJQUM3QyxXQUFXLENBQWtDO0lBQzdDLGFBQWEsQ0FBbUI7SUFFaEMsWUFBYSxNQUE2QjtRQUN0QyxJQUFJLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDM0IsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEVBQUUsY0FBYyxFQUFFLG1DQUFtQyxFQUFFLENBQUM7UUFDbEYsSUFBSSxDQUFDLFdBQVcsR0FBVSxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBbUIsQ0FBQztJQUN0RixDQUFDLENBQUMsNkRBQTZEO0lBRS9ELEtBQUssQ0FBQyxHQUFHLENBQUUsT0FBMEIsRUFBRSxjQUFzQztRQUN6RSxJQUFJLENBQUMsYUFBYSxHQUFHO1lBQ2pCLE1BQU0sRUFBRyxPQUFPLENBQUMsSUFBSTtZQUNyQixJQUFJLEVBQUssT0FBTyxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQWlCLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUztZQUM3RixPQUFPLEVBQUUsT0FBTyxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGtCQUFrQjtZQUMzRyxJQUFJLEVBQUssT0FBTyxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFFLE9BQU8sQ0FBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUztTQUNoRyxDQUFDO1FBQ0YsSUFBSTtZQUNBLEtBQUssQ0FBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUUsQ0FBQyxJQUFJLENBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQzlDLE9BQU8sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsRUFBRTtnQkFDWixjQUFjLENBQUMsa0JBQWtCLENBQUUsY0FBYyxFQUFFLElBQUksQ0FBRSxDQUFDO1lBQzlELENBQUMsQ0FBQyxDQUFDO1NBQ047UUFBQyxPQUFPLFdBQVcsRUFBRztZQUNuQixPQUFPLENBQUMsR0FBRyxDQUFFLFdBQVcsQ0FBRSxDQUFDO1NBQzlCO0lBQ0wsQ0FBQztDQUNKO0FBQ0QsMkdBQTJHOzs7Ozs7Ozs7Ozs7Ozs7O0FDakMzRyxvREFBb0Q7QUFDcEQsa0RBQWtEO0FBQ2xELHdDQUF3QztBQUN4Qzs7Ozs7O0dBTUc7QUFDWSxNQUFNLFlBQVk7SUFDN0IsZ0JBQWdCLE9BQU8sQ0FBQyxHQUFHLENBQUUsZ0NBQWdDLENBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEU7Ozs7Ozs7OztPQVNHO0lBQ0gscURBQXFEO0lBQ3JELE1BQU0sQ0FBQyw2QkFBNkIsQ0FBRyxjQUF1QixFQUFFLG1CQUFxQztRQUNqRyxtQkFBbUIsQ0FBQyxNQUFNLENBQUUsbUJBQW1CLENBQUMsT0FBTyxDQUFFLGNBQWMsQ0FBRSxFQUFFLENBQUMsQ0FBRSxDQUFDO0lBQUMsQ0FBQztJQUVyRixNQUFNLENBQUMscUJBQXFCLENBQUcsaUJBQXlCO1FBQ3BELE9BQU8saUJBQWlCLENBQUMsTUFBTSxDQUFFLENBQUMsQ0FBRSxDQUFDLFdBQVcsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEtBQUssQ0FBRSxDQUFDLENBQUUsQ0FBQztJQUFDLENBQUM7SUFFeEYsOERBQThEO0lBQzlELE1BQU0sQ0FBQyxTQUFTLENBQUcsaUJBQXNCLEVBQUUsYUFBMkI7UUFDbEUsd0RBQXdEO1FBQ3hELEtBQU0sTUFBTSxPQUFPLElBQUksYUFBYSxFQUFHO1lBQ25DLElBQUssYUFBYSxDQUFFLE9BQU8sQ0FBRSxDQUFDLEVBQUUsSUFBSSxpQkFBaUIsQ0FBQyxFQUFFLEVBQUc7Z0JBQ3ZELE9BQU8sSUFBSSxDQUFDO2FBQUU7U0FDckI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsOERBQThEO0lBQzlELE1BQU0sQ0FBQyxNQUFNLENBQUUsU0FBYyxFQUFFLEdBQVk7UUFDdkMsSUFBSyxDQUFDLFNBQVMsRUFBRztZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUUsR0FBRyxDQUFFO1NBQ3pCO0lBQUEsQ0FBQztDQUNUOzs7Ozs7Ozs7Ozs7Ozs7OztBQzVDeUM7QUFFMUM7Ozs7O0dBS0c7QUFDSSxNQUFNLGtCQUFrQjtJQUMzQixVQUFVLEdBQXdCLEVBQUUsQ0FBQztJQUNyQyxnRUFBZ0U7SUFDaEUsZ0JBQWUsQ0FBQztJQUVoQixNQUFNLENBQUUsUUFBb0I7UUFDeEIsSUFBSyxDQUFDLCtEQUFzQixDQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFFLEVBQUU7WUFDdkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUUsUUFBUSxDQUFFLENBQUM7U0FBRTtJQUFBLENBQUM7SUFFNUMsYUFBYSxLQUEwQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRWhFLFNBQVMsS0FBVyxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDOUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2J1QztBQUNaO0FBQ1U7QUFDOEI7QUFDVjtBQUduRCxNQUFNLHdCQUF3QjtJQUNqQyxrQkFBa0IsQ0FBcUI7SUFDdkMsa0JBQWtCLENBQXFCO0lBQ3ZDLEtBQUssQ0FBUTtJQUNiLE1BQU0sQ0FBZTtJQUNyQixtQkFBbUIsQ0FBcUI7SUFDeEMsWUFBYSxPQUFzQjtRQUMvQixJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQztRQUN0QixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSw0RUFBa0IsRUFBRSxDQUFDO1FBQ25ELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLG1FQUFrQixDQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBRSxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSw4Q0FBSyxDQUFFLElBQUksbURBQVUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxvREFBVyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3hGLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLGNBQWMsRUFBRSxPQUFPLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUMsQ0FBQztJQUFDLENBQUM7SUFFdkYsY0FBYyxLQUFNLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUV0RSxPQUFPO1FBQ0gsSUFBSyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxLQUFLLEVBQUc7WUFDOUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDOUI7YUFBTSxJQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRztZQUN0QyxJQUFJLENBQUMsZUFBZSxDQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFFLENBQUM7U0FDaEQ7SUFBQSxDQUFDO0lBRU4sbUJBQW1CLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQztJQUVwRixrQkFBa0IsQ0FBRSxlQUF5QyxFQUFFLE1BQVc7UUFDdEUsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFLLENBQUMsSUFBSyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksTUFBTSxFQUFHO1lBQUUsT0FBTztTQUFFO1FBQ2pFLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxDQUFDLEtBQUssQ0FBRSxNQUFNLENBQUUsQ0FBQyxXQUFXLENBQUUsQ0FBQztRQUNuRSxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsVUFBVSxDQUFDO1FBQzFDLEtBQU0sTUFBTSxTQUFTLElBQUksVUFBVSxFQUFHO1lBQ2xDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUUsU0FBUyxDQUFFLENBQUM7U0FBRTtRQUM3RCxlQUFlLENBQUMsa0JBQWtCLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDL0MsZUFBZSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFBQyxDQUFDO0lBRTdELGVBQWUsQ0FBRSxTQUFpQjtRQUM5QixLQUFLLENBQUUsU0FBUyxDQUFFO2FBQ2IsSUFBSSxDQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFFO2FBQ25DLElBQUksQ0FBRSxJQUFJLENBQUMsRUFBRTtZQUNWLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFFLElBQUksQ0FBRSxDQUFDLElBQUksQ0FBRSxFQUFFLENBQUUsQ0FBQyxDQUFDLGlEQUFpRDtZQUN2RixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFFLElBQUksQ0FBRSxDQUFDO1lBQ3RDLE1BQU0sV0FBVyxHQUFpQixFQUFFLENBQUM7WUFDckMsSUFBSSxXQUFXLEdBQWUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDaEYsS0FBTSxNQUFNLElBQUksSUFBSSxVQUFVLEVBQUc7Z0JBQzdCLElBQUssSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUc7b0JBQ25CLElBQUk7d0JBQ0EsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxDQUFFLENBQUM7cUJBQ3BDO29CQUFDLE9BQVEsS0FBSyxFQUFHO3dCQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUUsc0JBQXNCLEdBQUcsSUFBSSxDQUFFLENBQUM7cUJBQ2xEO29CQUNELFdBQVcsQ0FBQyxJQUFJLENBQUUsV0FBVyxDQUFFLENBQUM7aUJBQ25DO2FBQ0o7WUFDRCxLQUFNLE1BQU0sU0FBUyxJQUFJLFdBQVcsRUFBRztnQkFDbkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsQ0FBQzthQUMvQztZQUNELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFTLDBDQUEwQztZQUN2RixJQUFJLENBQUMsa0JBQWtCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLHlDQUF5QztRQUMxRixDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2RUQ7Ozs7OztHQU1HO0FBQ3VDO0FBR25DLE1BQU0sa0JBQWtCO0lBQzNCLGtCQUFrQixDQUFxQjtJQUN2QyxXQUFXLEdBQTBCLEVBQUUsQ0FBQztJQUN4QyxhQUFhLEdBQXdCLEVBQUUsQ0FBQztJQUV4QyxZQUFhLHFCQUF5QztRQUNsRCxPQUFPLENBQUMsR0FBRyxDQUFFLDJDQUEyQyxDQUFFLENBQUM7UUFDM0QsSUFBSSxDQUFDLGtCQUFrQixHQUFHLHFCQUFxQixDQUFDO0lBQUMsQ0FBQztJQUV0RCxTQUFTO1FBQ0wsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzFELEtBQU0sTUFBTSxTQUFTLElBQUksU0FBUyxFQUFHO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUUsU0FBUyxDQUFFLFNBQVMsQ0FBRSxDQUFDLENBQUM7U0FBRTtJQUFBLENBQUM7SUFFaEQsTUFBTSxDQUFFLFFBQW9CO1FBQ3hCLElBQUssQ0FBQywrREFBc0IsQ0FBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBRSxFQUFFO1lBQ3BELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFFLFFBQVEsQ0FBRSxDQUFDO1NBQUU7SUFBQSxDQUFDO0lBRW5ELGlCQUFpQjtRQUNiLEtBQU0sTUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRztZQUMxQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsYUFBYSxDQUFFLFNBQVMsQ0FBRSxDQUFDLENBQUM7U0FBRTtRQUM5RCxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUFDLENBQUM7SUFFOUIsY0FBYztRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUFDLENBQUM7SUFFOUIsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQUMsQ0FBQztJQUVoQyxTQUFTO1FBQ0wsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQUMsQ0FBQztDQUM3Qzs7Ozs7Ozs7Ozs7Ozs7OztBQ3hDRCxtQkFBbUI7QUFDbkI7Ozs7O0dBS0c7QUFDWSxNQUFNLEtBQUs7SUFDdEIsVUFBVSxDQUFhO0lBQ3ZCLFlBQWEsVUFBc0IsSUFBSyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDdkU7Ozs7T0FJRztJQUNILFlBQVksQ0FBRyxZQUFnQyxFQUFFLGNBQXFDO1FBQ2xGLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFFLFlBQVksRUFBRSxjQUFjLENBQUUsQ0FBQztJQUFDLENBQUM7SUFDbkU7Ozs7T0FJRztJQUNILGdCQUFnQixDQUFHLGNBQXFDLElBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBRSxjQUFjLENBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEg7Ozs7O09BS0c7SUFDSCxZQUFZLENBQUcsWUFBZ0MsRUFBRSxjQUFxQyxJQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFFLFlBQVksRUFBRSxjQUFjLENBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUo7Ozs7O09BS0c7SUFDSCxZQUFZLENBQUcsWUFBZ0MsRUFBRSxjQUFxQyxJQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFFLFlBQVksRUFBRSxjQUFjLENBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDN0o7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0Q00sTUFBTSxZQUFZO0lBQ2QsSUFBSSxDQUFjO0lBQ2xCLFFBQVEsQ0FBVTtJQUNsQixTQUFTLENBQVM7SUFFekIsWUFBYyxLQUFhLEVBQUUsU0FBaUIsRUFBRSxTQUFpQjtRQUM3RCxJQUFJLENBQUMsSUFBSSxHQUFRLEtBQUssQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFJLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUFDLENBQUM7Q0FDcEM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNURCx1REFBdUQ7QUFDdkQ7Ozs7Ozs7OztHQVNHO0FBQ1ksTUFBTSxVQUFVO0lBQzNCLFlBQVksQ0FBTTtJQUNsQixHQUFHLENBQWtCO0lBQ3JCLFlBQWEsb0JBQXVDO1FBQ2hELElBQUksQ0FBQyxZQUFZLEdBQUcsb0JBQW9CLENBQUMsTUFBTSxDQUFDO1FBQ2hELElBQUksQ0FBQyxHQUFHLEdBQVksb0JBQW9CLENBQUMsR0FBRyxDQUFDO0lBQUMsQ0FBQztJQUVuRDs7O09BR0c7SUFDSCxnQkFBZ0IsQ0FBRSxjQUFxQztRQUNuRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLGtCQUFrQixDQUFDO1FBQy9DLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBRSxRQUFRLENBQUUsQ0FBQztRQUNqRCxNQUFNLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7UUFDbEMsTUFBTSxDQUFDLEdBQUcsQ0FBRSxVQUFVLEVBQUUsY0FBYyxDQUFFLENBQUM7SUFBQyxDQUFDO0lBRS9DOzs7T0FHRztJQUNILFlBQVksQ0FBRSxZQUFnQyxFQUFFLGNBQXFDO1FBQ2pGLE1BQU0sTUFBTSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZGLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUMvQyxNQUFNLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQyxjQUFjLEVBQUU7UUFDL0UsTUFBTSxDQUFDLEdBQUcsQ0FBRSxVQUFVLEVBQUUsY0FBYyxDQUFFLENBQUM7SUFBQyxDQUFDO0lBRS9DOzs7O09BSUc7SUFDSCxZQUFZLENBQUUsWUFBZ0MsRUFBRSxjQUFxQztRQUNqRixNQUFNLE1BQU0sR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLGVBQWUsRUFBRSxDQUFDO1FBQ3hELE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUMvQyxNQUFNLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNO1lBQ2IsY0FBYyxFQUFFLFlBQVksQ0FBQyxjQUFjO1lBQzNDLFdBQVcsRUFBSyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0QsTUFBTSxDQUFDLEdBQUcsQ0FBRSxVQUFVLEVBQUUsY0FBYyxDQUFFLENBQUM7SUFBQyxDQUFDO0lBRS9DOzs7Ozs7Ozs7O09BVUc7SUFDSCxZQUFZLENBQUUsWUFBZ0MsRUFBRSxjQUFxQztRQUNqRixNQUFNLE1BQU0sR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsR0FBRyxHQUFHLGVBQWUsRUFBRSxDQUFDO1FBQ3hELE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUMvQyxNQUFNLFVBQVUsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNO1lBQ2IsY0FBYyxFQUFFLFlBQVksQ0FBQyxjQUFjO1lBQzNDLFdBQVcsRUFBSyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0QsTUFBTSxDQUFDLEdBQUcsQ0FBRSxVQUFVLEVBQUUsY0FBYyxDQUFFLENBQUM7SUFBQyxDQUFDO0NBQ2xEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvY29tcG9uZW50cy9sb2ctdmlld2VyL3N0eWxlcy9fbW9kaWZpZXJzLmNzcyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL2xvZy12aWV3ZXIvc3R5bGVzL192YXJpYWJsZXMuY3NzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL2NvbXBvbmVudHMvbG9nLXZpZXdlci9zdHlsZXMvbG9jYWxfc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL2xvZy12aWV3ZXIvc3R5bGVzL21haW4uY3NzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvY29tcG9uZW50cy9sb2ctdmlld2VyL2xvZy12aWV3ZXIuaHRtbCIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL2xvZy12aWV3ZXIvbG9nLXZpZXdlci5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvRmV0Y2hSdW5uZXIudHMiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvRnJlc2hUb29sQm94LnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL0xvZ09iamVjdENvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9Mb2dPYmplY3RDb250YWluZXJTb3VyY2UudHMiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvTG9nT2JqZWN0UHJvY2Vzc29yLnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL01vZGVsLnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL1NvdXJjZUNvbmZpZy50cyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9Tb3VyY2VEYXRhLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmdW5jdGlvbihpKXtyZXR1cm4gaVsxXX0pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZ1bmN0aW9uKGkpe3JldHVybiBpWzFdfSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6aG9zdCB7XFxyXFxuXFxyXFxufVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmdW5jdGlvbihpKXtyZXR1cm4gaVsxXX0pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLypcXG4gKiBsb2NhbCBzdHlsZXNcXG4gKi9cXG4uc2NyZWVuLWFyZWEge1xcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcXG4gICAgY29sb3I6IHdoaXRlO1xcbiAgICBib3JkZXI6IHNvbGlkIDAuMXB4O1xcbiAgICBoZWlnaHQ6IDQwMHB4O1xcbiAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgei1pbmRleDogMTA7XFxuICAgIHRleHQtYWxpZ246IGxlZnQ7XFxuICAgIHBhZGRpbmc6IDNweDsgfVxcblxcbi5sb2ctb2JqZWN0LWNvbnRhaW5lciB7XFxuICAgIGNvbHVtbi1nYXA6IDE1cHg7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcGFkZGluZzogMC4xcHg7XFxuICAgIGJvcmRlcjogc29saWQgMC4wcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDNweDsgfVxcblxcbmxpIHsgbGlzdC1zdHlsZTogbm9uZTsgfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzBfX18gZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9sb2NhbF9zdHlsZXMuY3NzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4uLy4uLy4uL3N0eWxlcy5jc3NcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzJfX18gZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9fdmFyaWFibGVzLmNzc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfM19fXyBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXSEuL19tb2RpZmllcnMuY3NzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZnVuY3Rpb24oaSl7cmV0dXJuIGlbMV19KTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8wX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8yX19fKTtcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLmkoX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8zX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmdW5jdGlvbihpKXtyZXR1cm4gaVsxXX0pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiKiB7XFxyXFxuICAgIGJvcmRlcjogMDtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbn1cXHJcXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8IS0tXFxyXFxuLyoqIFxcclxcbiAqICBsb2cgdmlld2VyIHRlbXBsYXRlXFxyXFxuICovXFxyXFxuLS0+XFxyXFxuPGRpdiBjbGFzcz1cXFwic2NyZWVuLWFyZWFcXFwiPlxcclxcbiAgICA8IS0tIDxoMSBjbGFzcz1cXFwib2JqZWN0LW5hbWVcXFwiPjwvaDE+IC0tPlxcclxcbiAgICA8b2wgY2xhc3M9XFxcImxpc3Qtb2YtbG9nLW9iamVjdHNcXFwiPjwvb2w+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGNvZGU7IiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9sb2ctdmlld2VyLmh0bWwnO1xyXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvbWFpbi5jc3MnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiQC91dGlsc1wiO1xyXG5pbXBvcnQgSUxvZ09iamVjdCBmcm9tICdAL3R5cGVzY3JpcHRfc291cmNlL2Fic3RyYWN0L0lMb2dPYmplY3QnO1xyXG5pbXBvcnQgeyBMb2dPYmplY3RDb250YWluZXJTb3VyY2UgfSBmcm9tICdAL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL0xvZ09iamVjdENvbnRhaW5lclNvdXJjZSc7XHJcbmltcG9ydCB7IFNvdXJjZUNvbmZpZyB9IGZyb20gJ0AvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvU291cmNlQ29uZmlnJztcclxuXHJcbkBDb21wb25lbnQoeyBodG1sOiBodG1sLCBzdHlsZTogc3R5bGUsIHByb3BlcnRpZXM6IFsgXCJsb2dzXCIgXX0pXHJcbmV4cG9ydCBjbGFzcyBMb2dWaWV3ZXIgaW1wbGVtZW50cyBJV2ViQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7fSAvLyByZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgdGhlIGF0dHJpYnV0ZXMgeW91IHdhbnQgdG8gb2JzZXJ2ZVxyXG4gICAgXHJcbiAgICAkbG9nX3ZpZXdlcl9jb250YWluZXIgICE6IEhUTUxFbGVtZW50OyAgICAgIC8vICAgPGRpdiBjbGFzcz1cInNjcmVlbi1hcmVhXCI+IFxyXG5cdCRvYmplY3RfbmFtZV9oZWFkZXIgICAgITogSFRNTEVsZW1lbnQ7ICAgICAgLy8gICAgICAgPGgxIGNsYXNzPVwib2JqZWN0LW5hbWVcIj48L2gxPlxyXG5cdCRsaXN0X29mX2xvZ19vYmplY3RzICAgITogSFRNTEVsZW1lbnQ7ICAgICAgLy8gICAgICAgPGRpdiBjbGFzcz1cImxpc3Qtb2YtbG9nLW9iamVjdHNcIj48L2Rpdj5cclxuICAgICRjbG9uZWFibGVfbG9nX29iamVjdCAgITogSFRNTEVsZW1lbnQ7ICAgICAgLy8gICAgICAgPGxvZy1vYmplY3QgY2xhc3M9XCJjbG9uZWFibGUtbG9nLW9iamVjdFwiPnRlcm1pbmFsIHJlYWR5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICA8IS0tIGNsb25lIG1lIC0tPjwvbG9nLW9iamVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICA8L2Rpdj5cclxuICAgIG9iamVjdF9uYW1lOiAgICAgICAgICBzdHJpbmcgICAgICAgPSBcIlwiOyAgXHJcbiAgICAvLyBsb2dzOiAgICAgICAgICAgICAgICAgSUxvZ09iamVjdFtdID0gW107XHJcbiAgICBtb25pdG9yZWRfb2JqZWN0X2lkOiAgc3RyaW5nICAgICAgID0gXCJcIjtcclxuICAgIGRhdGFfc291cmNlX2xvY2F0aW9uOiBzdHJpbmcgICAgICAgPSBcIlwiO1xyXG4gICAgbG9nX2xlbmd0aDogICAgICAgICAgIG51bWJlciAgICAgICA9ICAwO1xyXG4gICAgbG9nT2JqZWN0Q29udGFpbmVyU291cmNlITogTG9nT2JqZWN0Q29udGFpbmVyU291cmNlO1xyXG4gICAgXHJcbiAgICBcclxuXHJcbiAgICBnZXQgbG9ncygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyggJ2xvZ3MgcmVhZCcgKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCBsb2dzKCBsb2dPYmplY3RzOiBJTG9nT2JqZWN0W10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZygncHJvcCB3cml0dGVuLCBuZXcgdmFsdWUnLCBsb2dPYmplY3RzICk7XHJcbiAgICAgICAgaWYgKCBsb2dPYmplY3RzLmxlbmd0aCAhPT0gdGhpcy5sb2dfbGVuZ3RoICkgeyBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coIFwibGVuZ3RoIGNoYW5nZWQhIFwiKTsgXHJcbiAgICAgICAgICAgIHRoaXMubG9nX2xlbmd0aCA9IGxvZ09iamVjdHMubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlMb2dPYmplY3RzKCBsb2dPYmplY3RzLCB0aGlzICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgXHJcbiAgICBjb25zdHJ1Y3RvciggcHJpdmF0ZSAkZWw6IEhUTUxFbGVtZW50LCBwcml2YXRlICRob3N0OiBFbGVtZW50ICkge1xyXG4gICAgICAgIHRoaXMuZGF0YV9zb3VyY2VfbG9jYXRpb24gPSAkaG9zdC5nZXRBdHRyaWJ1dGUoIFwiZGF0YV9zb3VyY2VfbG9jYXRpb25cIiApISwgXHJcbiAgICAgICAgdGhpcy5tb25pdG9yZWRfb2JqZWN0X2lkICA9ICRob3N0LmdldEF0dHJpYnV0ZSggXCJtb25pdG9yZWRfb2JqZWN0X2lkXCIgICkhIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlZCBlYWNoIHRpbWUgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGFwcGVuZGVkIGludG8gYSBkb2N1bWVudC1jb25uZWN0ZWQgZWxlbWVudC5cclxuICAgICAqIFRoaXMgd2lsbCBoYXBwZW4gZWFjaCB0aW1lIHRoZSBub2RlIGlzIG1vdmVkLCBhbmQgbWF5IGhhcHBlbiBiZWZvcmUgdGhlIGVsZW1lbnQncyBjb250ZW50cyBoYXZlIGJlZW4gZnVsbHkgcGFyc2VkLlxyXG4gICAgICovXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyggJ2RlZmluaW5nIGxvZyB2aWV3ZXIgZWxlbWVudHMuLi4nICk7XHJcbiAgICAgICAgdGhpcy4kbG9nX3ZpZXdlcl9jb250YWluZXIgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCAgICAgICAgICAgICAgICAgICBcIi5zY3JlZW4tYXJlYVwiICAgICAgICAgICkhO1xyXG4gICAgICAgIHRoaXMuJG9iamVjdF9uYW1lX2hlYWRlciAgID0gdGhpcy4kbG9nX3ZpZXdlcl9jb250YWluZXIucXVlcnlTZWxlY3RvciggXCIub2JqZWN0LW5hbWVcIiAgICAgICAgICApITtcclxuICAgICAgICB0aGlzLiRsaXN0X29mX2xvZ19vYmplY3RzICA9IHRoaXMuJGxvZ192aWV3ZXJfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIFwiLmxpc3Qtb2YtbG9nLW9iamVjdHNcIiAgKSE7XHJcbiAgICAgICAgLy8gdGhpcy4kb2JqZWN0X25hbWVfaGVhZGVyLmlubmVySFRNTCA9IHRoaXMubW9uaXRvcmVkX29iamVjdF9pZDtcclxuICAgICAgICBjb25zdCBsb2dPYmplY3RTb3VyY2VDb25maWd1cmF0aW9uID0gbmV3IFNvdXJjZUNvbmZpZyggXCJ1cmxcIiwgdGhpcy5kYXRhX3NvdXJjZV9sb2NhdGlvbiwgdGhpcy5tb25pdG9yZWRfb2JqZWN0X2lkICk7XHJcbiAgICAgICAgdGhpcy5sb2dPYmplY3RDb250YWluZXJTb3VyY2UgICAgICA9IG5ldyBMb2dPYmplY3RDb250YWluZXJTb3VyY2UoIGxvZ09iamVjdFNvdXJjZUNvbmZpZ3VyYXRpb24gKTtcclxuICAgICAgICB0aGlzLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7IGNvbnNvbGUubG9nKCAnbG9nLXZpZXdlciBkaXNjb25uZWN0ZWQnICk7IH1cclxuICAgIGFkb3B0ZWRDYWxsYmFjaygpIHsgICAgICBjb25zb2xlLmxvZyggICAgICAnbG9nLXZpZXdlciBtb3ZlZCcgICApOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VkIGVhY2ggdGltZSBvbmUgb2YgdGhlIGN1c3RvbSBlbGVtZW50J3MgYXR0cmlidXRlcyBpcyBhZGRlZCwgcmVtb3ZlZCwgb3IgY2hhbmdlZC5cclxuICAgICAqIFdoaWNoIGF0dHJpYnV0ZXMgdG8gbm90aWNlIGNoYW5nZSBmb3IgaXMgc3BlY2lmaWVkIGluIGEgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMgbWV0aG9kXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZVxyXG4gICAgICogQHBhcmFtIG5ld1ZhbHVlXHJcbiAgICAgKi9cclxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayggbmFtZTogc3RyaW5nLCBvbGRWYWx1ZTogYW55LCBuZXdWYWx1ZTogYW55ICkge1xyXG4gICAgICAgIGNvbnN0IG5hbWVQcm9wID0gbmFtZS5yZXBsYWNlKCAvLVthLXpBLVpdL2csICggZm91bmQ6IHN0cmluZyApID0+IGZvdW5kLnNsaWNlKCAxICkudG9VcHBlckNhc2UoKSApO1xyXG4gICAgICAgICggdGhpcyBhcyBhbnkgKVsgbmFtZVByb3AgXSA9IG5ld1ZhbHVlOyB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4geyBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coIFwicmVmcmVzaGluZyBsb2dzLi4uIFwiICk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyU291cmNlLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dzID0gdGhpcy5sb2dPYmplY3RDb250YWluZXJTb3VyY2UubG9nT2JqZWN0UHJvY2Vzc29yLmdldFdyaXR0ZW5Mb2dzKCk7IH0sIDEwMDAgKTsgfVxyXG5cclxuICAgIGRpc3BsYXlMb2dPYmplY3RzKCBsb2dPYmplY3RzOiBJTG9nT2JqZWN0W10sIGxvZ1ZpZXdlcjogTG9nVmlld2VyICkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCBcImRpc3BsYXlpbmcgbG9nIG9iamVjdHMuLi5cIiApO1xyXG4gICAgICAgIGxvZ09iamVjdHMuZm9yRWFjaCggbG9nX29iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRfdGltZV9zdGFtcCA9IG5ldyBEYXRlKCBsb2dfb2JqZWN0Py50aW1lc3RhbXAgKS50b0xvY2FsZVN0cmluZygpXHJcbiAgICAgICAgICAgIGxldCBsaV9pbm5lcl9odG1sID0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1vYmplY3QtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVzdGFtcFwiPiR7IGZvcm1hdHRlZF90aW1lX3N0YW1wIH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0aG9kXCIgICA+JHsgbG9nX29iamVjdC5tZXRob2QgICAgfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXNzYWdlXCIgID4keyBsb2dfb2JqZWN0Lm1lc3NhZ2UgICB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICBsZXQgJG5ld19saXN0X2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnbGknICk7XHJcbiAgICAgICAgICAgICRuZXdfbGlzdF9lbGVtZW50LmlubmVySFRNTCA9IGxpX2lubmVyX2h0bWw7XHJcbiAgICAgICAgICAgIHRoaXMuJGxpc3Rfb2ZfbG9nX29iamVjdHMuYXBwZW5kQ2hpbGQoICRuZXdfbGlzdF9lbGVtZW50ICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFJlZi46IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1VzaW5nX2N1c3RvbV9lbGVtZW50cyIsImltcG9ydCBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgZnJvbSBcIi4uL2Fic3RyYWN0L0lRdWVyeVJlc3VsdFByb2Nlc3NvclwiO1xyXG5cclxuLyoqIEBjbGFzcyBGZXRjaFJ1bm5lciBjbGFzcyAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZXRjaFJ1bm5lciB7XHJcbiAgICB1cmwgICAgICAgICAgICAgICAgOnN0cmluZztcclxuICAgIHVybF9lbmNvZGVkX2hlYWRlciA6UmVjb3JkPCBzdHJpbmcsIHN0cmluZyA+O1xyXG4gICAganNvbl9oZWFkZXIgICAgICAgIDpSZWNvcmQ8IHN0cmluZywgc3RyaW5nID47XHJcbiAgICBmZXRjaF9vcHRpb25zICAgICAhOlJlcXVlc3RJbml0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCBjb25maWc6IHsgYXBpX3BhdGg6IHN0cmluZzsgfSApIHtcclxuICAgICAgICB0aGlzLnVybCA9IGNvbmZpZy5hcGlfcGF0aDtcclxuICAgICAgICB0aGlzLnVybF9lbmNvZGVkX2hlYWRlciA9IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiB9O1xyXG4gICAgICAgIHRoaXMuanNvbl9oZWFkZXIgICAgICAgID0geyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICB9IC8vIGVzdGFibGlzaCBjb21tdW5pY2F0aW9uIGFkZHJlc3MgYW5kIGRlZmluZSBoZWFkZXIgb2JqZWN0cy5cclxuXHJcbiAgICBhc3luYyBydW4oIGFwaUFyZ3M6IHsgdHlwZTogc3RyaW5nOyB9LCBjYWxsYmFja09iamVjdCA6IElRdWVyeVJlc3VsdFByb2Nlc3NvciApOiBQcm9taXNlPCB2b2lkID4ge1xyXG4gICAgICAgIHRoaXMuZmV0Y2hfb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAgYXBpQXJncy50eXBlLFxyXG4gICAgICAgICAgICBtb2RlOiAgICBhcGlBcmdzLnR5cGUgPT09IFwiUE9TVFwiID8gLyogUE9TVCAqLyAnbm8tY29ycycgICAgICAgICAgICAgICAgIDogLyogR0VUICovIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgaGVhZGVyczogYXBpQXJncy50eXBlID09PSBcIlBPU1RcIiA/IC8qIFBPU1QgKi8gdGhpcy5qc29uX2hlYWRlciAgICAgICAgICA6IC8qIEdFVCAqLyB0aGlzLnVybF9lbmNvZGVkX2hlYWRlcixcclxuICAgICAgICAgICAgYm9keTogICAgYXBpQXJncy50eXBlID09PSBcIlBPU1RcIiA/IC8qIFBPU1QgKi8gSlNPTi5zdHJpbmdpZnkoIGFwaUFyZ3MgKSA6IC8qIEdFVCAqLyB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZldGNoKCB0aGlzLnVybCwgdGhpcy5mZXRjaF9vcHRpb25zICkudGhlbiggcmVzID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpO1xyXG4gICAgICAgICAgICB9KS50aGVuKCBkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrT2JqZWN0LnByb2Nlc3NRdWVyeVJlc3VsdCggY2FsbGJhY2tPYmplY3QsIGRhdGEgKTtcclxuICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgIH0gY2F0Y2goIGZldGNoX2Vycm9yICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyggZmV0Y2hfZXJyb3IgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8geGhyLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKTsgLy8gYWxsb3dzIFwic3FsPVwiLi4uIHN5bnRheCFcclxuIiwiLyogZXNsaW50LWRpc2FibGUgZnVuY3Rpb25hbC9wcmVmZXItcmVhZG9ubHktdHlwZSAqL1xuLyogZXNsaW50LWRpc2FibGUgZnVuY3Rpb25hbC9uby10aHJvdy1zdGF0ZW1lbnQgKi9cbi8qIGVzbGludC1kaXNhYmxlIGZ1bmN0aW9uYWwvbm8tY2xhc3MgKi9cbi8qKlxuICogIEBjbGFzcyBGcmVzaFRvb2xCb3hcbiAqXG4gKiAgQGRlc2NyaXB0aW9uXG4gKiAgdG9vbHMgdGhhdCBJIGZyZXF1ZW50bHkgdXNlLlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJlc2hUb29sQm94IHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgY29uc29sZS5sb2coIFwiY29uc3RydWN0aW5nIGZyZXNoIHRvb2wgYm94Li4uXCIgKTsgfVxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgcmVtb3ZlT2JqZWN0RnJvbUFycmF5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogcmVtb3ZlcyBhbiBvYmplY3QgZnJvbSBhbiBhcnJheSBvZiBhbnkgdHlwZSBvZiBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt1bmtub3dufSBvYmplY3RUb1JlbW92ZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8IHVua25vd24gPn0gYXJyYXlUb1JlbW92ZUl0RnJvbVxuICAgICAqIEByZXR1cm4geyp9ICB7QXJyYXk8IHVua25vd24gPn1cbiAgICAgKiBAbWVtYmVyb2YgRnJlc2hUb29sQm94XG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvbm8tcmV0dXJuLXZvaWRcbiAgICBzdGF0aWMgcmVtb3ZlU3BlY2lmaWNPYmplY3RGcm9tQXJyYXkgKCBvYmplY3RUb1JlbW92ZTogdW5rbm93biwgYXJyYXlUb1JlbW92ZUl0RnJvbTogQXJyYXk8IHVua25vd24gPiApOiB2b2lkIHtcbiAgICAgICAgYXJyYXlUb1JlbW92ZUl0RnJvbS5zcGxpY2UoIGFycmF5VG9SZW1vdmVJdEZyb20uaW5kZXhPZiggb2JqZWN0VG9SZW1vdmUgKSwgMSApOyB9XG5cbiAgICBzdGF0aWMgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyICggc3RyaW5nVG9VcHBlcmNhc2U6IHN0cmluZyApOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyaW5nVG9VcHBlcmNhc2UuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHN0cmluZ1RvVXBwZXJjYXNlLnNsaWNlKCAxICk7IH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGlzSW5BcnJheSAoIG9iamVjdFRvU2VhcmNoRm9yOiBhbnksIGFycmF5VG9TZWFyY2g6IEFycmF5PCBhbnkgPiApOiBib29sZWFuIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvbm8tbG9vcC1zdGF0ZW1lbnRcbiAgICAgICAgZm9yICggY29uc3QgZWxlbWVudCBpbiBhcnJheVRvU2VhcmNoICkge1xuICAgICAgICAgICAgaWYgKCBhcnJheVRvU2VhcmNoWyBlbGVtZW50IF0uaWQgPT0gb2JqZWN0VG9TZWFyY2hGb3IuaWQgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgYXNzZXJ0KCBjb25kaXRpb246IGFueSwgbXNnPzogc3RyaW5nICk6IGFzc2VydHMgY29uZGl0aW9uIHtcbiAgICAgICAgaWYgKCAhY29uZGl0aW9uICkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBtc2cgKVxuICAgICAgICB9fVxufVxuIiwiaW1wb3J0IEZyZXNoVG9vbEJveCBmcm9tIFwiLi9GcmVzaFRvb2xCb3hcIjtcbmltcG9ydCBJTG9nT2JqZWN0ICAgZnJvbSBcIkAvdHlwZXNjcmlwdF9zb3VyY2UvYWJzdHJhY3QvSUxvZ09iamVjdFwiO1xuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGNvbnRhaW5lciBmb3IgbG9nIG9iamVjdHMuXG4gKlxuICogQGNsYXNzIExvZ09iamVjdENvbnRhaW5lclxuICovXG5leHBvcnQgY2xhc3MgTG9nT2JqZWN0Q29udGFpbmVyIHtcbiAgICBsb2dPYmplY3RzOiBBcnJheTwgSUxvZ09iamVjdCA+ID0gW107XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIGFkZExvZyggbG9nVG9BZGQ6IElMb2dPYmplY3QgKTogdm9pZCB7XG4gICAgICAgIGlmICggIUZyZXNoVG9vbEJveC5pc0luQXJyYXkoIGxvZ1RvQWRkLCB0aGlzLmxvZ09iamVjdHMgKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dPYmplY3RzLnB1c2goIGxvZ1RvQWRkICk7IH19XG5cbiAgICBnZXRMb2dPYmplY3RzKCk6IEFycmF5PCBJTG9nT2JqZWN0ID4geyByZXR1cm4gdGhpcy5sb2dPYmplY3RzOyB9XG5cbiAgICBjbGVhckxvZ3MoKTogdm9pZCB7IHRoaXMubG9nT2JqZWN0cyA9IFtdOyB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKlxuICogIGNsYXNzIExvZ09iamVjdENvbnRhaW5lclNvdXJjZVxuICovXG5pbXBvcnQgSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yIGZyb20gXCIuLi9hYnN0cmFjdC9JUXVlcnlSZXN1bHRQcm9jZXNzb3JcIjtcbmltcG9ydCBJU291cmNlQ29uZmlnIGZyb20gXCIuLi9hYnN0cmFjdC9JU291cmNlQ29uZmlnXCI7XG5pbXBvcnQgSVNvdXJjZVF1ZXJ5Q29uZmlnIGZyb20gXCIuLi9hYnN0cmFjdC9JU291cmNlUXVlcnlDb25maWdcIjtcbmltcG9ydCBGZXRjaFJ1bm5lciBmcm9tIFwiLi9GZXRjaFJ1bm5lclwiO1xuaW1wb3J0IE1vZGVsIGZyb20gJy4vTW9kZWwnO1xuaW1wb3J0IFNvdXJjZURhdGEgZnJvbSBcIi4vU291cmNlRGF0YVwiO1xuaW1wb3J0IHsgTG9nT2JqZWN0Q29udGFpbmVyIH0gZnJvbSBcIi4uL2NvbmNyZXRlL0xvZ09iamVjdENvbnRhaW5lclwiO1xuaW1wb3J0IHsgTG9nT2JqZWN0UHJvY2Vzc29yIH0gZnJvbSBcIi4vTG9nT2JqZWN0UHJvY2Vzc29yXCI7XG5pbXBvcnQgSUxvZ09iamVjdCBmcm9tIFwiLi4vYWJzdHJhY3QvSUxvZ09iamVjdFwiO1xuXG5leHBvcnQgY2xhc3MgTG9nT2JqZWN0Q29udGFpbmVyU291cmNlIGltcGxlbWVudHMgSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yIHtcbiAgICBsb2dPYmplY3RDb250YWluZXI6IExvZ09iamVjdENvbnRhaW5lcjtcbiAgICBsb2dPYmplY3RQcm9jZXNzb3I6IExvZ09iamVjdFByb2Nlc3NvcjtcbiAgICBtb2RlbDogTW9kZWw7XG4gICAgY29uZmlnOiBJU291cmNlQ29uZmlnXG4gICAgc291cmNlX3F1ZXJ5X2NvbmZpZzogSVNvdXJjZVF1ZXJ5Q29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKCBfY29uZmlnOiBJU291cmNlQ29uZmlnICkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWc7XG4gICAgICAgIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyID0gbmV3IExvZ09iamVjdENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLmxvZ09iamVjdFByb2Nlc3NvciA9IG5ldyBMb2dPYmplY3RQcm9jZXNzb3IoIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyICk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwoIG5ldyBTb3VyY2VEYXRhKHsgUnVubmVyOiBGZXRjaFJ1bm5lciwgdXJsOiBfY29uZmlnLmxvY2F0aW9uIH0pKTtcbiAgICAgICAgdGhpcy5zb3VyY2VfcXVlcnlfY29uZmlnID0geyBvYmplY3Rfdmlld19pZDogX2NvbmZpZy5vYmplY3RfaWQsIG9iamVjdF9kYXRhOiB7fX07IH1cblxuICAgIGdldFdyaXR0ZW5Mb2dzICgpIHsgcmV0dXJuIHRoaXMubG9nT2JqZWN0UHJvY2Vzc29yLmdldFdyaXR0ZW5Mb2dzKCk7IH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICggdGhpcy5jb25maWcudHlwZSA9PT0gXCJ1cmxcIiApIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEZyb21EYXRhYmFzZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKCB0aGlzLmNvbmZpZy50eXBlID09PSBcImZpbGVcIiApIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEZyb21GaWxlKCB0aGlzLmNvbmZpZy5sb2NhdGlvbiApO1xuICAgICAgICB9fVxuXG4gICAgcmVmcmVzaEZyb21EYXRhYmFzZSgpIHsgdGhpcy5tb2RlbC5zZWxlY3RPYmplY3QoIHRoaXMuc291cmNlX3F1ZXJ5X2NvbmZpZywgdGhpcyApOyB9XG5cbiAgICBwcm9jZXNzUXVlcnlSZXN1bHQoIHJlc3VsdFByb2Nlc3NvcjogTG9nT2JqZWN0Q29udGFpbmVyU291cmNlLCByZXN1bHQ6IGFueSApIHtcbiAgICAgICAgaWYoIHJlc3VsdC5sZW5ndGggID09IDAgIHx8IHJlc3VsdC50cmltKCkgPT0gXCJudWxsXCIgKSB7IHJldHVybjsgfVxuICAgICAgICBjb25zdCBvYmplY3RfZGF0YSA9IEpTT04ucGFyc2UoIEpTT04ucGFyc2UoIHJlc3VsdCApLm9iamVjdF9kYXRhICk7XG4gICAgICAgIGNvbnN0IGxvZ09iamVjdHMgPSBvYmplY3RfZGF0YS5sb2dPYmplY3RzO1xuICAgICAgICBmb3IgKCBjb25zdCBsb2dPYmplY3Qgb2YgbG9nT2JqZWN0cyApIHtcbiAgICAgICAgICAgIHJlc3VsdFByb2Nlc3Nvci5sb2dPYmplY3RDb250YWluZXIuYWRkTG9nKCBsb2dPYmplY3QgKTsgfVxuICAgICAgICByZXN1bHRQcm9jZXNzb3IubG9nT2JqZWN0UHJvY2Vzc29yLnVwZGF0ZVF1ZSgpO1xuICAgICAgICByZXN1bHRQcm9jZXNzb3IubG9nT2JqZWN0UHJvY2Vzc29yLnByb2Nlc3NMb2dPYmplY3RzKCk7IH1cblxuICAgIHJlZnJlc2hGcm9tRmlsZSggZmlsZV9wYXRoOiBzdHJpbmcgKSB7XG4gICAgICAgIGZldGNoKCBmaWxlX3BhdGggKVxuICAgICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLnRleHQoKSApXG4gICAgICAgICAgICAudGhlbiggdGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc3BsaXQoICdcXHInICkuam9pbiggJycgKTsgLy8gaWYgcGVyZm9ybWFuY2UgaXMgYW4gaXNzdWUsIGNoYW5nZSB0aGlzIG1heWJlLlxuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVfYXJyYXkgPSB0ZXh0LnNwbGl0KCBcIlxcblwiICk7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9nX29iamVjdHM6IElMb2dPYmplY3RbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCBwYXJzZWRfbGluZTogSUxvZ09iamVjdCA9IHsgaWQ6IFwiXCIsIHRpbWVzdGFtcDogMCwgbWVzc2FnZTogXCJcIiwgbWV0aG9kOiBcIlwiIH07XG4gICAgICAgICAgICAgICAgZm9yICggY29uc3QgbGluZSBvZiBmaWxlX2FycmF5ICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGxpbmUubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2xpbmUgPSBKU09OLnBhcnNlKCBsaW5lICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICggZXJyb3IgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvciggXCJlcnJvciBwYXJzaW5nIGxpbmU6IFwiICsgbGluZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nX29iamVjdHMucHVzaCggcGFyc2VkX2xpbmUgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCBsb2dPYmplY3Qgb2YgbG9nX29iamVjdHMgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyLmFkZExvZyggbG9nT2JqZWN0ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubG9nT2JqZWN0UHJvY2Vzc29yLnVwZGF0ZVF1ZSgpOyAgICAgICAgIC8vIGZyb20gbG9nIG9iamVjdCBjb250YWluZXIgdG8gaW50ZXJuYWwgUVxuICAgICAgICAgICAgICAgIHRoaXMubG9nT2JqZWN0UHJvY2Vzc29yLnByb2Nlc3NMb2dPYmplY3RzKCk7IC8vIGZyb20gaW50ZXJuYWwgUSB0byB3cml0dGVuIGxvZyBvYmplY3RzXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJcbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiAgIE1haW50YWlucyBhbiBhcnJheSBvZiB3cml0dGVuIGFuZCB1bndyaXR0ZW4gbG9ncyBmcm9tXG4gKiAgIGEgY29udGFpbmVyIG9mIGxvZyBvYmplY3RzIHRoYXQgaXMgcGFzc2VkIGluIG9uIGNvbnN0cnVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgTG9nT2JqZWN0UHJvY2Vzc29yXG4gKi9cbmltcG9ydCBGcmVzaFRvb2xCb3ggZnJvbSBcIi4vRnJlc2hUb29sQm94XCI7XG5pbXBvcnQgSUxvZ09iamVjdCAgZnJvbSBcIi4uL2Fic3RyYWN0L0lMb2dPYmplY3RcIjtcbmltcG9ydCB7IExvZ09iamVjdENvbnRhaW5lciB9IGZyb20gXCIuL0xvZ09iamVjdENvbnRhaW5lclwiO1xuZXhwb3J0IGNsYXNzIExvZ09iamVjdFByb2Nlc3NvciAge1xuICAgIGxvZ09iamVjdENvbnRhaW5lcjogTG9nT2JqZWN0Q29udGFpbmVyO1xuICAgIHdyaXR0ZW5Mb2dzOiAgIEFycmF5PCBJTG9nT2JqZWN0ID4gPSBbXTtcbiAgICB1bndyaXR0ZW5Mb2dzOiBBcnJheTwgSUxvZ09iamVjdCA+ID0gW107XG5cbiAgICBjb25zdHJ1Y3RvciggbG9nT2JqZWN0Q29udGFpbmVyQXJnOiBMb2dPYmplY3RDb250YWluZXIgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCAnY29uc3RydWN0aW5nIExvZ09iamVjdFByb2Nlc3NvciBvYmplY3QuLi4nICk7XG4gICAgICAgIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyID0gbG9nT2JqZWN0Q29udGFpbmVyQXJnOyB9XG5cbiAgICB1cGRhdGVRdWUoKSB7XG4gICAgICAgIGNvbnN0IGZyZXNoRGF0YSA9IHRoaXMubG9nT2JqZWN0Q29udGFpbmVyLmdldExvZ09iamVjdHMoKTtcbiAgICAgICAgZm9yICggY29uc3QgbG9nT2JqZWN0IGluIGZyZXNoRGF0YSApIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTG9nKCBmcmVzaERhdGFbIGxvZ09iamVjdCBdKTsgfX1cblxuICAgIGFkZExvZyggbG9nVG9BZGQ6IElMb2dPYmplY3QgKTogdm9pZCB7XG4gICAgICAgIGlmICggIUZyZXNoVG9vbEJveC5pc0luQXJyYXkoIGxvZ1RvQWRkLCB0aGlzLndyaXR0ZW5Mb2dzICkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVud3JpdHRlbkxvZ3MucHVzaCggbG9nVG9BZGQgKTsgfX1cblxuICAgIHByb2Nlc3NMb2dPYmplY3RzKCk6IHZvaWQge1xuICAgICAgICBmb3IgKCBjb25zdCBsb2dPYmplY3QgaW4gdGhpcy51bndyaXR0ZW5Mb2dzICkge1xuICAgICAgICAgICAgdGhpcy53cml0dGVuTG9ncy5wdXNoKCB0aGlzLnVud3JpdHRlbkxvZ3NbIGxvZ09iamVjdCBdKTsgfVxuICAgICAgICB0aGlzLnVud3JpdHRlbkxvZ3MgPSBbXTsgfVxuXG4gICAgZ2V0V3JpdHRlbkxvZ3MoKTogQXJyYXk8IElMb2dPYmplY3QgPiB7XG4gICAgICAgIHJldHVybiB0aGlzLndyaXR0ZW5Mb2dzOyB9XG5cbiAgICBnZXRVbndyaXR0ZW5Mb2dzKCk6IEFycmF5PCBJTG9nT2JqZWN0ID4ge1xuICAgICAgICByZXR1cm4gdGhpcy51bndyaXR0ZW5Mb2dzOyB9XG5cbiAgICBjbGVhckxvZ3MoKTogdm9pZCB7XG4gICAgICAgIHRoaXMud3JpdHRlbkxvZ3MgPSBbXTtcbiAgICAgICAgdGhpcy51bndyaXR0ZW5Mb2dzID0gW107XG4gICAgICAgIHRoaXMubG9nT2JqZWN0Q29udGFpbmVyLmNsZWFyTG9ncygpOyB9XG59XG4iLCJpbXBvcnQgU291cmNlRGF0YSBmcm9tIFwiLi9Tb3VyY2VEYXRhXCI7XHJcbmltcG9ydCBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgZnJvbSAnLi4vYWJzdHJhY3QvSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yJztcclxuaW1wb3J0IElTb3VyY2VRdWVyeUNvbmZpZyBmcm9tIFwiLi4vYWJzdHJhY3QvSVNvdXJjZVF1ZXJ5Q29uZmlnXCI7XHJcblxyXG4vKiogQGNsYXNzIE1vZGVsICovXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IE1vZGVsIGluc3RhbmNlIGFuZCBob29rcyB1cCB0aGUgc291cmNlRGF0YS5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VEYXRhIEEgcmVmZXJlbmNlIHRvIHRoZSBjbGllbnQgc2lkZSBzb3VyY2VEYXRhIGNsYXNzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XHJcbiAgICBzb3VyY2VEYXRhOiBTb3VyY2VEYXRhO1xyXG4gICAgY29uc3RydWN0b3IoIHNvdXJjZURhdGE6IFNvdXJjZURhdGEgKSB7IHRoaXMuc291cmNlRGF0YSA9IHNvdXJjZURhdGE7IH1cclxuICAgIC8qKlxyXG4gICAgICogc2VsZWN0cyBvbmUgb2JqZWN0IGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsgZnVuY3Rpb24gfSBbIGNhbGxiYWNrT2JqZWN0IF0gVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiByZXRyaWV2ZWRcclxuICAgICAqL1xyXG4gICAgc2VsZWN0T2JqZWN0ICggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7IFxyXG4gICAgICAgIHRoaXMuc291cmNlRGF0YS5zZWxlY3RPYmplY3QoIHF1ZXJ5X2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFsbCBvYmplY3RzIGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsgZnVuY3Rpb24gfSBbIGNhbGxiYWNrT2JqZWN0IF0gVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgdGhlIG9iamVjdHMgaGF2ZSBiZWVuIHJldHJpZXZlZFxyXG4gICAgICovXHJcbiAgICBzZWxlY3RBbGxPYmplY3RzICggY2FsbGJhY2tPYmplY3Q6IElRdWVyeVJlc3VsdFByb2Nlc3NvciApIHsgdGhpcy5zb3VyY2VEYXRhLnNlbGVjdEFsbE9iamVjdHMoIGNhbGxiYWNrT2JqZWN0ICk7IH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBpbnNlcnQgYW4gb2JqZWN0IGludG8gdGhlIGRhdGFiYXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeV9jb25maWcgVGhlIGNhbGwgdHlwZSwgb2JqZWN0IGlkIGFuZCBvYmplY3QgZGF0YVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tPYmplY3QgVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgaW5zZXJ0aW5nIG5ldyBkYXRhXHJcbiAgICAgKi9cclxuICAgIGluc2VydE9iamVjdCAoIHF1ZXJ5X2NvbmZpZzogSVNvdXJjZVF1ZXJ5Q29uZmlnLCBjYWxsYmFja09iamVjdDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICkgeyB0aGlzLnNvdXJjZURhdGEuaW5zZXJ0T2JqZWN0KCBxdWVyeV9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCB1cGRhdGUgYW4gZXhpc3Rpbmcgb2JqZWN0IGluIHRoZSBkYXRhYmFzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnlfY29uZmlnIFRoZSBjYWxsIHR5cGUsIG9iamVjdCBpZCBhbmQgb2JqZWN0IGRhdGFcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrT2JqZWN0IFRoZSBjYWxsYmFja09iamVjdCB0byBmaXJlIGFmdGVyIHRoZSB1cGRhdGVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlT2JqZWN0ICggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7IHRoaXMuc291cmNlRGF0YS51cGRhdGVPYmplY3QoIHF1ZXJ5X2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxyXG59XHJcbiIsIi8qKiBAY2xhc3MgU291cmNlQ29uZmlnICovXHJcbmltcG9ydCBJU291cmNlQ29uZmlnIGZyb20gXCIuLi9hYnN0cmFjdC9JU291cmNlQ29uZmlnXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU291cmNlQ29uZmlnIGltcGxlbWVudHMgSVNvdXJjZUNvbmZpZyB7XHJcbiAgICBwdWJsaWMgdHlwZSAgICAgIDpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbG9jYXRpb24gIDpzdHJpbmc7XHJcbiAgICBwdWJsaWMgb2JqZWN0X2lkIDpzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCBfdHlwZSA6c3RyaW5nLCBfbG9jYXRpb24gOnN0cmluZywgb2JqZWN0X2lkIDpzdHJpbmcgKSB7XHJcbiAgICAgICAgdGhpcy50eXBlICAgICAgPSBfdHlwZTtcclxuICAgICAgICB0aGlzLmxvY2F0aW9uICA9IF9sb2NhdGlvbjsgXHJcbiAgICAgICAgdGhpcy5vYmplY3RfaWQgPSBvYmplY3RfaWQ7IH1cclxufVxyXG4iLCJpbXBvcnQgSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yIGZyb20gJy4uL2Fic3RyYWN0L0lRdWVyeVJlc3VsdFByb2Nlc3Nvcic7XG5pbXBvcnQgSVNvdXJjZVF1ZXJ5Q29uZmlnIGZyb20gJy4uL2Fic3RyYWN0L0lTb3VyY2VRdWVyeUNvbmZpZyc7XG5pbXBvcnQgSVNvdXJjZURhdGFDb25maWcgZnJvbSAnLi4vYWJzdHJhY3QvSVNvdXJjZURhdGFDb25maWcnO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ3VyYXRpb25fb2JqZWN0IHtcbiAqICAgICBydW5uZXI6IHhociwgZmV0Y2gsIG9yIHNvbWUgb3RoZXIgb2JqZWN0IHRoYXQgbWFrZXMgQUpBWCBjYWxsc1xuICogICAgIHVybCAgIDogdGhlIHBsYWNlIHdoZXJlIHRoZSBydW5uZXIgaXMgZ29pbmcgdG8gbWFrZSB0aGUgYXBpIGNhbGxcbiAqIH1cbiAqIFRoZSBjYWxsIHR5cGUsIG9iamVjdCBpZCBhbmQgb2JqZWN0IGRhdGFcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrT2JqZWN0XG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VyY2VEYXRhIHtcbiAgICBSdW5uZXJPYmplY3Q6IGFueTtcbiAgICB1cmw6ICAgICAgICAgIHN0cmluZztcbiAgICBjb25zdHJ1Y3RvciggY29uZmlndXJhdGlvbl9vYmplY3Q6IElTb3VyY2VEYXRhQ29uZmlnICkge1xuICAgICAgICB0aGlzLlJ1bm5lck9iamVjdCA9IGNvbmZpZ3VyYXRpb25fb2JqZWN0LlJ1bm5lcjtcbiAgICAgICAgdGhpcy51cmwgICAgICAgICAgPSBjb25maWd1cmF0aW9uX29iamVjdC51cmw7IH1cblxuICAgIC8qKlxuICAgICAqIHNlbGVjdHMgYWxsIG9iamVjdHMgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja09iamVjdCBUaGUgY2FsbGJhY2tPYmplY3QgdG8gZmlyZSB1cG9uIHJldHJpZXZpbmcgZGF0YVxuICAgICAqL1xuICAgIHNlbGVjdEFsbE9iamVjdHMoIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7XG4gICAgICAgIGNvbnN0IGFwaV9wYXRoID0gdGhpcy51cmwgKyBcIm9iamVjdC9zZWxlY3RBbGxcIjtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IHRoaXMuUnVubmVyT2JqZWN0KCBhcGlfcGF0aCApO1xuICAgICAgICBjb25zdCBydW5fY29uZmlnID0geyB0eXBlOiBcIkdFVFwiIH1cbiAgICAgICAgcnVubmVyLnJ1biggcnVuX2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxuXG4gICAgLyoqXG4gICAgICogc2VsZWN0cyBvbmUgb2JqZWN0IGZyb20gdGhlIGRhdGFiYXNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tPYmplY3QgVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgdXBvbiByZXRyaWV2aW5nIGRhdGFcbiAgICAgKi9cbiAgICBzZWxlY3RPYmplY3QoIHF1ZXJ5X2NvbmZpZzogSVNvdXJjZVF1ZXJ5Q29uZmlnLCBjYWxsYmFja09iamVjdDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB7IGFwaV9wYXRoOiB0aGlzLnVybCArIFwib2JqZWN0L3NlbGVjdC9cIiArIHF1ZXJ5X2NvbmZpZy5vYmplY3Rfdmlld19pZCB9O1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgdGhpcy5SdW5uZXJPYmplY3QoIGNvbmZpZyApO1xuICAgICAgICBjb25zdCBydW5fY29uZmlnID0geyB0eXBlOiBcIkdFVFwiLCBvYmplY3Rfdmlld19pZDogcXVlcnlfY29uZmlnLm9iamVjdF92aWV3X2lkIH1cbiAgICAgICAgcnVubmVyLnJ1biggcnVuX2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCBpbnNlcnQgYW4gb2JqZWN0IGludG8gdGhlIGRhdGFiYXNlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeV9jb25maWcgVGhlIGNhbGwgdHlwZSwgb2JqZWN0IGlkIGFuZCBvYmplY3QgZGF0YVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrT2JqZWN0IFRoZSBjYWxsYmFja09iamVjdCB0byBmaXJlIGFmdGVyIGluc2VydGluZyBuZXcgZGF0YVxuICAgICAqL1xuICAgIGluc2VydE9iamVjdCggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHsgYXBpX3BhdGg6IHRoaXMudXJsICsgXCJvYmplY3QvaW5zZXJ0XCIgfTtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IHRoaXMuUnVubmVyT2JqZWN0KCBjb25maWcgKTtcbiAgICAgICAgY29uc3QgcnVuX2NvbmZpZyA9IHsgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3ZpZXdfaWQ6IHF1ZXJ5X2NvbmZpZy5vYmplY3Rfdmlld19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RfZGF0YTogICAgcXVlcnlfY29uZmlnLm9iamVjdF9kYXRhIH07XG4gICAgICAgIHJ1bm5lci5ydW4oIHJ1bl9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgdXBkYXRlIGFuIGV4aXN0aW5nIG9iamVjdCBpbiB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnlfY29uZmlnIFRoZSBjYWxsIHR5cGUsIG9iamVjdCBpZCBhbmQgb2JqZWN0IGRhdGFcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja09iamVjdCBUaGUgY2FsbGJhY2tPYmplY3QgdG8gZmlyZSBhZnRlciB0aGUgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHVwZGF0ZU9iamVjdCggeyBcIm9iamVjdF92aWV3X2lkXCI6IFwiUGFyc2VyXzVcIiwgXCJvYmplY3RfZGF0YVwiOiB7IFwibGVkX2NvbG9yXCI6IFwicmVkXCJ9fSwgY2FsbGJhY2tPYmplY3QucHJvY2Vzc1F1ZXJ5UmVzdWx0ICkge1xuICAgICAqICAgICAvLyB3aWxsIHVwZGF0ZSBvYmplY3Qgd2l0aCBvYmplY3Rfdmlld19pZCBQYXJzZXJfNSdzIGxlZF9jb2xvciB0byByZWQuXG4gICAgICogfSk7XG4gICAgICovXG4gICAgdXBkYXRlT2JqZWN0KCBxdWVyeV9jb25maWc6IElTb3VyY2VRdWVyeUNvbmZpZywgY2FsbGJhY2tPYmplY3Q6IElRdWVyeVJlc3VsdFByb2Nlc3NvciApIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0geyBhcGlfcGF0aDogdGhpcy51cmwgKyBcIm9iamVjdC91cGRhdGVcIiB9O1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgdGhpcy5SdW5uZXJPYmplY3QoIGNvbmZpZyApO1xuICAgICAgICBjb25zdCBydW5fY29uZmlnID0geyB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Rfdmlld19pZDogcXVlcnlfY29uZmlnLm9iamVjdF92aWV3X2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF9kYXRhOiAgICBxdWVyeV9jb25maWcub2JqZWN0X2RhdGEgfTtcbiAgICAgICAgcnVubmVyLnJ1biggcnVuX2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9