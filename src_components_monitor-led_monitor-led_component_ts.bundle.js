(self["webpackChunk_egadams_monitor_led"] = self["webpackChunk_egadams_monitor_led"] || []).push([["src_components_monitor-led_monitor-led_component_ts"],{

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_modifiers.css":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_modifiers.css ***!
  \*********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_variables.css":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_variables.css ***!
  \*********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":host {\r\n\r\n}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/components/monitor-led/styles/main.css":
/*!****************************************************!*\
  !*** ./src/components/monitor-led/styles/main.css ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_styles_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!../../../styles.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_variables_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./_variables.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_variables.css");
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_modifiers_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! -!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./_modifiers.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/components/monitor-led/styles/_modifiers.css");
// Imports




var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_styles_css__WEBPACK_IMPORTED_MODULE_1__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_variables_css__WEBPACK_IMPORTED_MODULE_2__["default"]);
___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_modifiers_css__WEBPACK_IMPORTED_MODULE_3__["default"]);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css":
/*!***********************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2]!./src/styles.css ***!
  \***********************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "* {\r\n    border: 0;\r\n    margin: 0;\r\n    padding: 0;\r\n    background: none;\r\n    outline: none;\r\n}\r\n", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/components/monitor-led/monitor-led.html":
/*!*****************************************************!*\
  !*** ./src/components/monitor-led/monitor-led.html ***!
  \*****************************************************/
/***/ ((module) => {

// Module
var code = "\r\n<div class=\"monitor-led-container\"></div>";
// Exports
module.exports = code;

/***/ }),

/***/ "./src/components/monitor-led/monitor-led.component.ts":
/*!*************************************************************!*\
  !*** ./src/components/monitor-led/monitor-led.component.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MonitorLed": () => (/* binding */ MonitorLed)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _monitor_led_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./monitor-led.html */ "./src/components/monitor-led/monitor-led.html");
/* harmony import */ var _monitor_led_html__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_monitor_led_html__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _styles_main_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/main.css */ "./src/components/monitor-led/styles/main.css");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils */ "./src/utils.ts");
/* harmony import */ var _typescript_source_concrete_ServerLedData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/typescript_source/concrete/ServerLedData */ "./src/typescript_source/concrete/ServerLedData.ts");
/* harmony import */ var _typescript_source_concrete_FetchRunner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/typescript_source/concrete/FetchRunner */ "./src/typescript_source/concrete/FetchRunner.ts");
/* harmony import */ var _typescript_source_concrete_SourceData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/typescript_source/concrete/SourceData */ "./src/typescript_source/concrete/SourceData.ts");
/* harmony import */ var _typescript_source_concrete_MonitoredObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/typescript_source/concrete/MonitoredObject */ "./src/typescript_source/concrete/MonitoredObject.ts");
/* harmony import */ var _typescript_source_concrete_Model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/typescript_source/concrete/Model */ "./src/typescript_source/concrete/Model.ts");









let MonitorLed = class MonitorLed extends _typescript_source_concrete_MonitoredObject__WEBPACK_IMPORTED_MODULE_6__["default"] {
    $el;
    $host;
    monitored_object_id = "";
    data_source_location = "";
    monitor_led_data = new _typescript_source_concrete_ServerLedData__WEBPACK_IMPORTED_MODULE_3__["default"]();
    // return an array containing the names of the attributes you want to observe.  Not sure why this is here yet.
    static observedAttributes() { }
    constructor($el, $host) {
        super({ new_id: $host.getAttribute("monitored_object_id"),
            data_source_location: $host.getAttribute("data_source_location") });
        this.$el = $el;
        this.$host = $host;
        this.data_source_location = $host.getAttribute("data_source_location");
        this.monitored_object_id = $host.getAttribute("monitored_object_id");
    }
    /**
     * Invoked each time the custom element is appended into a document-connected element.
     * This will happen each time the node is moved, and may happen before the element's contents have been fully parsed.
     */
    connectedCallback() {
        this.logUpdate('monitor-led connected');
        this.render().start();
    }
    render() {
        this.$el.innerHTML = `
        <div class="monitor-led">${this.monitor_led_data.ledText}</div>
        `;
        let monitor_led = this.$el.querySelector('.monitor-led');
        monitor_led.style.backgroundColor = this.monitor_led_data.classObject.background_color;
        monitor_led.style.textAlign = this.monitor_led_data.classObject.text_align;
        monitor_led.style.marginTop = this.monitor_led_data.classObject.margin_top;
        monitor_led.style.color = this.monitor_led_data.classObject.color;
        return this;
    }
    /** Invoked each time the custom element is disconnected from the document's DOM. */
    disconnectedCallback() { console.log('monitor-led disconnected'); }
    /** Invoked each time the custom element is moved to a new document. */
    adoptedCallback() { console.log('monitor-led moved'); }
    /**
     * Invoked each time one of the custom element's attributes is added, removed, or changed.
     * Which attributes to notice change for is specified in a static get observedAttributes method
     *
     * @param name
     * @param oldValue
     * @param newValue
     */
    attributeChangedCallback(name, oldValue, newValue) {
        const nameProp = name.replace(/-[a-zA-Z]/g, (found) => found.slice(1).toUpperCase());
        this[nameProp] = newValue;
    }
    start() {
        this.logUpdate("monitor led component starting...");
        let source_query_config = { object_view_id: this.monitored_object_id, object_data: {} };
        let model = new _typescript_source_concrete_Model__WEBPACK_IMPORTED_MODULE_7__["default"](new _typescript_source_concrete_SourceData__WEBPACK_IMPORTED_MODULE_5__["default"]({ Runner: _typescript_source_concrete_FetchRunner__WEBPACK_IMPORTED_MODULE_4__["default"], url: this.data_source_location }));
        setInterval(() => { model.selectObject(source_query_config, this); }, 2500);
    }
    processQueryResult(callbackObject, query_result) {
        if (!query_result || !JSON.parse(query_result).object_data) {
            return;
        }
        let data = JSON.parse(JSON.parse(query_result).object_data);
        data.monitor_led = callbackObject;
        callbackObject.monitor_led_data = callbackObject.monitorLed;
        callbackObject.render();
        let object_id = callbackObject.object_view_id; // 
        let the_match = object_id.match(/\d+/)[0];
        const event_name = "event-" + callbackObject.kebabize(callbackObject.constructor.name) + "-" + the_match;
        let led_event = new CustomEvent(event_name, { bubbles: true, detail: data });
        document.dispatchEvent(led_event);
    } // this.$emit( 'led-data', data.monitorLedData ); doesn't work! 
    kebabize(str) {
        return str.split('').map((letter, idx) => {
            return letter.toUpperCase() === letter
                ? `${idx !== 0 ? '-' : ''}${letter.toLowerCase()}`
                : letter;
        }).join('');
    }
};
MonitorLed = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.Component)({ html: (_monitor_led_html__WEBPACK_IMPORTED_MODULE_0___default()), style: _styles_main_css__WEBPACK_IMPORTED_MODULE_1__["default"], properties: [] })
], MonitorLed);

// Ref.: https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements


/***/ }),

/***/ "./src/typescript_source/concrete/FetchRunner.ts":
/*!*******************************************************!*\
  !*** ./src/typescript_source/concrete/FetchRunner.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FetchRunner)
/* harmony export */ });
/** @class FetchRunner class */
class FetchRunner {
    url;
    url_encoded_header;
    json_header;
    fetch_options;
    constructor(config) {
        this.url = config.api_path;
        this.url_encoded_header = { "Content-Type": "application/x-www-form-urlencoded" };
        this.json_header = { "Content-Type": "application/json" };
    } // establish communication address and define header objects.
    async run(apiArgs, callbackObject) {
        this.fetch_options = {
            method: apiArgs.type,
            mode: apiArgs.type === "POST" ? /* POST */ 'no-cors' : /* GET */ undefined,
            headers: apiArgs.type === "POST" ? /* POST */ this.json_header : /* GET */ this.url_encoded_header,
            body: apiArgs.type === "POST" ? /* POST */ JSON.stringify(apiArgs) : /* GET */ undefined
        };
        try {
            fetch(this.url, this.fetch_options).then(res => {
                return res.text();
            }).then(data => {
                callbackObject.processQueryResult(callbackObject, data);
            });
        }
        catch (fetch_error) {
            console.log(fetch_error);
        }
    }
}
// xhr.setRequestHeader( "Content-Type", "application/x-www-form-urlencoded" ); // allows "sql="... syntax!


/***/ }),

/***/ "./src/typescript_source/concrete/LogObjectFactory.ts":
/*!************************************************************!*\
  !*** ./src/typescript_source/concrete/LogObjectFactory.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * @description
 * creates log objects giving them a unique id,
 * time stamp, and determined calling method.
 *
 * @class LogObjectFactory
 */
class LogObjectFactory {
    someObject;
    constructor() { console.log('constructing LogObjectFactory object...'); }
    createLogObject(messageArg, someObject) {
        const time_now = Date.now();
        const random_number = Math.floor(Math.random() * 10000000000000);
        const logObject = {
            timestamp: time_now,
            id: `${someObject.constructor.name}_${random_number}_${time_now}`,
            message: messageArg,
            method: this._getCallingMethod()
        };
        return logObject;
    }
    _getCallingMethod() {
        const obj = new Error();
        Error.captureStackTrace(obj, this._getCallingMethod);
        if (obj.stack?.split('\n')[2].match(/at\s+\w+.(\w+)/) == null) {
            return 'unknown';
        }
        let split_stack = obj.stack.split('\n')[2];
        let split_stack_match = split_stack.match(/at\s+\w+.(\w+)/);
        if (!split_stack_match) {
            return "no split_stack_match!";
        }
        return split_stack_match[1];
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LogObjectFactory);


/***/ }),

/***/ "./src/typescript_source/concrete/Model.ts":
/*!*************************************************!*\
  !*** ./src/typescript_source/concrete/Model.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Model)
/* harmony export */ });
/** @class Model */
/**
 * Creates a new Model instance and hooks up the sourceData.
 *
 * @constructor
 * @param {object} sourceData A reference to the client side sourceData class
 */
class Model {
    sourceData;
    constructor(sourceData) { this.sourceData = sourceData; }
    /**
     * selects one object from the database
     *
     * @param { function } [ callbackObject ] The callbackObject to fire after the object has been retrieved
     */
    selectObject(query_config, callbackObject) {
        this.sourceData.selectObject(query_config, callbackObject);
    }
    /**
     * Gets all objects from the database
     *
     * @param { function } [ callbackObject ] The callbackObject to fire after the objects have been retrieved
     */
    selectAllObjects(callbackObject) { this.sourceData.selectAllObjects(callbackObject); }
    /**
     * Will insert an object into the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after inserting new data
     */
    insertObject(query_config, callbackObject) { this.sourceData.insertObject(query_config, callbackObject); }
    /**
     * Will update an existing object in the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after the update
     */
    updateObject(query_config, callbackObject) { this.sourceData.updateObject(query_config, callbackObject); }
}


/***/ }),

/***/ "./src/typescript_source/concrete/MonitorLed.ts":
/*!******************************************************!*\
  !*** ./src/typescript_source/concrete/MonitorLed.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _MonitorLedClassObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MonitorLedClassObject */ "./src/typescript_source/concrete/MonitorLedClassObject.ts");

/** @class MonitorLed */
class MonitorLed {
    classObject;
    ledText;
    RUNNING_COLOR;
    PASS_COLOR;
    FAIL_COLOR;
    constructor() {
        this.classObject = new _MonitorLedClassObject__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.ledText = "ready.";
        this.RUNNING_COLOR = "lightyellow";
        this.PASS_COLOR = "lightgreen";
        this.FAIL_COLOR = "#fb6666"; // lightred is not understood by CSS.  Whaaa... ??
    }
    setFail(fail_message) {
        this.setLedBackgroundColor(this.FAIL_COLOR);
        this.setLedTextColor("white");
        this.setLedText(fail_message);
    }
    setLedBackgroundColor(newColor) { this.classObject.background_color = newColor; }
    setLedTextColor(newColor) { this.classObject.color = newColor; }
    setLedText(newText) { this.ledText = newText; }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonitorLed);


/***/ }),

/***/ "./src/typescript_source/concrete/MonitorLedClassObject.ts":
/*!*****************************************************************!*\
  !*** ./src/typescript_source/concrete/MonitorLedClassObject.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/** @class MonitorLedClassObject */
class MonitorLedClassObject {
    background_color;
    text_align;
    margin_top;
    color;
    constructor() {
        this.background_color = "lightyellow";
        this.text_align = "left";
        this.margin_top = "2px";
        this.color = "black";
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonitorLedClassObject);


/***/ }),

/***/ "./src/typescript_source/concrete/MonitoredObject.ts":
/*!***********************************************************!*\
  !*** ./src/typescript_source/concrete/MonitoredObject.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MonitoredObject)
/* harmony export */ });
/* harmony import */ var _FetchRunner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FetchRunner */ "./src/typescript_source/concrete/FetchRunner.ts");
/* harmony import */ var _LogObjectFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LogObjectFactory */ "./src/typescript_source/concrete/LogObjectFactory.ts");
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Model */ "./src/typescript_source/concrete/Model.ts");
/* harmony import */ var _MonitorLed__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MonitorLed */ "./src/typescript_source/concrete/MonitorLed.ts");
/* harmony import */ var _SourceData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SourceData */ "./src/typescript_source/concrete/SourceData.ts");
/* harmony import */ var _Stringifier__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Stringifier */ "./src/typescript_source/concrete/Stringifier.ts");






/** @class  MonitoredObject */
class MonitoredObject {
    object_view_id;
    logObjects;
    model;
    logObjectFactory;
    monitorLed;
    stringifier;
    constructor(config) {
        if (config.new_id?.length === 0) {
            config.new_id = Math.floor(Math.random() * 1000 + 1000).toString();
        }
        if (config.new_id?.includes('_')) {
            this.object_view_id = config.new_id;
        }
        else {
            this.object_view_id = `${this.constructor.name}_${config.new_id}`;
        }
        this.logObjectFactory = new _LogObjectFactory__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.logObjects = [this.logObjectFactory.createLogObject("constructing...", this)];
        if (config.data_source_location?.length === 0 && document.querySelector('.data-source-location')) {
            config.data_source_location = document.querySelector('.data-source-location')?.innerHTML || "";
        }
        this.model = new _Model__WEBPACK_IMPORTED_MODULE_2__["default"](new _SourceData__WEBPACK_IMPORTED_MODULE_4__["default"]({ Runner: _FetchRunner__WEBPACK_IMPORTED_MODULE_0__["default"], url: config.data_source_location }));
        this.monitorLed = new _MonitorLed__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.stringifier = new _Stringifier__WEBPACK_IMPORTED_MODULE_5__["default"]();
        const data_config = { object_view_id: this.object_view_id, object_data: this.stringifier.stringify(this, 3, null, 2) };
        this.model.insertObject(data_config, this);
    } // xtra line of code, but more readable
    logUpdate(message) {
        if (!this.object_view_id) {
            console.log("*** ERROR: object needs an id to log. ***");
            return;
        }
        if (message.includes("ERROR")) {
            this.monitorLed.setFail(message);
        }
        else {
            this.monitorLed.setLedText(message);
        }
        this.logObjects.push(this.logObjectFactory.createLogObject(message, this));
        const data_config = { object_view_id: this.object_view_id, object_data: this.stringifier.stringify(this, 3, null, 2) };
        this.model.updateObject(data_config, this);
    }
    processQueryResult(_event, results) { if (results.data.length > 0) {
        console.log(results.data);
    } }
    getObjectViewId() { return this.object_view_id; }
}


/***/ }),

/***/ "./src/typescript_source/concrete/ServerLedData.ts":
/*!*********************************************************!*\
  !*** ./src/typescript_source/concrete/ServerLedData.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class ServerLedData {
    constructor() { console.log("constructing ServerLedData..."); } // hush warning.
    ledText = "checking status...";
    classObject = {
        background_color: "lightyellow",
        text_align: "left",
        margin_top: "4px",
        color: "black"
    };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ServerLedData);


/***/ }),

/***/ "./src/typescript_source/concrete/SourceData.ts":
/*!******************************************************!*\
  !*** ./src/typescript_source/concrete/SourceData.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SourceData)
/* harmony export */ });
/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 *
 * @param {object} configuration_object {
 *     runner: xhr, fetch, or some other object that makes AJAX calls
 *     url   : the place where the runner is going to make the api call
 * }
 * The call type, object id and object data
 * @param {function} callbackObject
 *
 */
class SourceData {
    RunnerObject;
    url;
    constructor(configuration_object) {
        this.RunnerObject = configuration_object.Runner;
        this.url = configuration_object.url;
    }
    /**
     * selects all objects from the database
     * @param {function} callbackObject The callbackObject to fire upon retrieving data
     */
    selectAllObjects(callbackObject) {
        const api_path = this.url + "object/selectAll";
        const runner = new this.RunnerObject(api_path);
        const run_config = { type: "GET" };
        runner.run(run_config, callbackObject);
    }
    /**
     * selects one object from the database
     * @param {function} callbackObject The callbackObject to fire upon retrieving data
     */
    selectObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/select/" + query_config.object_view_id };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "GET", object_view_id: query_config.object_view_id };
        runner.run(run_config, callbackObject);
    }
    /**
     * Will insert an object into the database.
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after inserting new data
     */
    insertObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/insert" };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "POST",
            object_view_id: query_config.object_view_id,
            object_data: query_config.object_data };
        runner.run(run_config, callbackObject);
    }
    /**
     * Will update an existing object in the database.
     *
     * @param {object} query_config The call type, object id and object data
     * @param {function} callbackObject The callbackObject to fire after the update
     *
     * @example
     * updateObject( { "object_view_id": "Parser_5", "object_data": { "led_color": "red"}}, callbackObject.processQueryResult ) {
     *     // will update object with object_view_id Parser_5's led_color to red.
     * });
     */
    updateObject(query_config, callbackObject) {
        const config = { api_path: this.url + "object/update" };
        const runner = new this.RunnerObject(config);
        const run_config = { type: "POST",
            object_view_id: query_config.object_view_id,
            object_data: query_config.object_data };
        runner.run(run_config, callbackObject);
    }
}


/***/ }),

/***/ "./src/typescript_source/concrete/Stringifier.ts":
/*!*******************************************************!*\
  !*** ./src/typescript_source/concrete/Stringifier.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Stringifier)
/* harmony export */ });
/** @class Stringifier */
class Stringifier {
    constructor() { }
    // replacer: ((this: any, key: string, value: any ) => any ) | null, ... notice the parentheses, these are needed.
    stringify(val, depth, replacer, space, onGetObjID) {
        depth = isNaN(+depth) ? 1 : depth;
        var recursMap = new WeakMap();
        function _build(val, depth, o, a, r) {
            return !val || typeof val != 'object' ? val
                : (r = recursMap.has(val),
                    recursMap.set(val, true),
                    a = Array.isArray(val),
                    r ? (o = onGetObjID && onGetObjID(val) || null) : JSON.stringify(val, function (k, v) { if (a || depth > 0) {
                        if (replacer)
                            v = replacer(k, v);
                        if (!k)
                            return (a = Array.isArray(v), val = v);
                        !o && (o = a ? [] : {});
                        o[k] = _build(v, a ? depth : depth - 1);
                    } }),
                    o === void 0 ? (a ? [] : {}) : o);
        }
        return JSON.stringify(_build(val, depth), null, space);
    }
}
// https://stackoverflow.com/questions/13861254/json-stringify-deep-objects/57193345#57193345 // typescript version


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX2NvbXBvbmVudHNfbW9uaXRvci1sZWRfbW9uaXRvci1sZWRfY29tcG9uZW50X3RzLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNrRztBQUNsRyw4QkFBOEIsbUZBQTJCLGFBQWEsWUFBWTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTnZDO0FBQ2tHO0FBQ2xHLDhCQUE4QixtRkFBMkIsYUFBYSxZQUFZO0FBQ2xGO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQ7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTnZDO0FBQ2tHO0FBQ3lDO0FBQ0g7QUFDQTtBQUN4SSw4QkFBOEIsbUZBQTJCLGFBQWEsWUFBWTtBQUNsRiwwQkFBMEIseUdBQWlDO0FBQzNELDBCQUEwQiw0R0FBaUM7QUFDM0QsMEJBQTBCLDRHQUFpQztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWnZDO0FBQ3lGO0FBQ3pGLDhCQUE4QixtRkFBMkIsYUFBYSxZQUFZO0FBQ2xGO0FBQ0EsNkNBQTZDLGtCQUFrQixrQkFBa0IsbUJBQW1CLHlCQUF5QixzQkFBc0IsS0FBSztBQUN4SjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7OztBQ052QztBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIc0M7QUFDQTtBQUNGO0FBQ21DO0FBQ0o7QUFDRjtBQUNVO0FBQ3BCO0FBSWhELElBQU0sVUFBVSxHQUFoQixNQUFNLFVBQVcsU0FBUSxtRkFBZTtJQVN0QjtJQUEwQjtJQVAvQyxtQkFBbUIsR0FBSSxFQUFFLENBQUM7SUFDMUIsb0JBQW9CLEdBQWtCLEVBQUUsQ0FBQztJQUN6QyxnQkFBZ0IsR0FBc0IsSUFBSSxpRkFBYSxFQUFFLENBQUM7SUFFMUQsOEdBQThHO0lBQzlHLE1BQU0s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LEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFFLENBQUM7d0JBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBRSxHQUFHLE1BQU0sQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUUsQ0FBQztxQkFBRSxDQUFDLENBQUMsQ0FBRTtvQkFDaFMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUM7UUFDakQsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBRSxNQUFNLENBQUUsR0FBRyxFQUFFLEtBQUssQ0FBRSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUUsQ0FBQztJQUMvRCxDQUFDO0NBQ0o7QUFFRCxtSEFBbUgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL21vbml0b3ItbGVkL3N0eWxlcy9fbW9kaWZpZXJzLmNzcyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL21vbml0b3ItbGVkL3N0eWxlcy9fdmFyaWFibGVzLmNzcyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL21vbml0b3ItbGVkL3N0eWxlcy9tYWluLmNzcyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL2NvbXBvbmVudHMvbW9uaXRvci1sZWQvbW9uaXRvci1sZWQuaHRtbCIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy9jb21wb25lbnRzL21vbml0b3ItbGVkL21vbml0b3ItbGVkLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9GZXRjaFJ1bm5lci50cyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9Mb2dPYmplY3RGYWN0b3J5LnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL01vZGVsLnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL01vbml0b3JMZWQudHMiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvTW9uaXRvckxlZENsYXNzT2JqZWN0LnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL01vbml0b3JlZE9iamVjdC50cyIsIndlYnBhY2s6Ly9AZWdhZGFtcy9tb25pdG9yLWxlZC8uL3NyYy90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9TZXJ2ZXJMZWREYXRhLnRzIiwid2VicGFjazovL0BlZ2FkYW1zL21vbml0b3ItbGVkLy4vc3JjL3R5cGVzY3JpcHRfc291cmNlL2NvbmNyZXRlL1NvdXJjZURhdGEudHMiLCJ3ZWJwYWNrOi8vQGVnYWRhbXMvbW9uaXRvci1sZWQvLi9zcmMvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvU3RyaW5naWZpZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZ1bmN0aW9uKGkpe3JldHVybiBpWzFdfSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZnVuY3Rpb24oaSl7cmV0dXJuIGlbMV19KTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIjpob3N0IHtcXHJcXG5cXHJcXG59XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyBmcm9tIFwiLSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXSEuLi8uLi8uLi9zdHlsZXMuY3NzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BVF9SVUxFX0lNUE9SVF8xX19fIGZyb20gXCItIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4vX3ZhcmlhYmxlcy5jc3NcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FUX1JVTEVfSU1QT1JUXzJfX18gZnJvbSBcIi0hLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi9fbW9kaWZpZXJzLmNzc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZ1bmN0aW9uKGkpe3JldHVybiBpWzFdfSk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMV9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5pKF9fX0NTU19MT0FERVJfQVRfUlVMRV9JTVBPUlRfMl9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZnVuY3Rpb24oaSl7cmV0dXJuIGlbMV19KTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIioge1xcclxcbiAgICBib3JkZXI6IDA7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiXFxyXFxuPGRpdiBjbGFzcz1cXFwibW9uaXRvci1sZWQtY29udGFpbmVyXFxcIj48L2Rpdj5cIjtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gY29kZTsiLCJpbXBvcnQgaHRtbCBmcm9tICcuL21vbml0b3ItbGVkLmh0bWwnO1xyXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZXMvbWFpbi5jc3MnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiQC91dGlsc1wiO1xyXG5pbXBvcnQgU2VydmVyTGVkRGF0YSBmcm9tIFwiQC90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9TZXJ2ZXJMZWREYXRhXCI7XHJcbmltcG9ydCBGZXRjaFJ1bm5lciBmcm9tIFwiQC90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9GZXRjaFJ1bm5lclwiO1xyXG5pbXBvcnQgU291cmNlRGF0YSBmcm9tIFwiQC90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9Tb3VyY2VEYXRhXCI7XHJcbmltcG9ydCBNb25pdG9yZWRPYmplY3QgZnJvbSBcIkAvdHlwZXNjcmlwdF9zb3VyY2UvY29uY3JldGUvTW9uaXRvcmVkT2JqZWN0XCI7XHJcbmltcG9ydCBNb2RlbCBmcm9tIFwiQC90eXBlc2NyaXB0X3NvdXJjZS9jb25jcmV0ZS9Nb2RlbFwiO1xyXG5pbXBvcnQgSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yIGZyb20gJ0AvdHlwZXNjcmlwdF9zb3VyY2UvYWJzdHJhY3QvSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yJztcclxuXHJcbkBDb21wb25lbnQoeyBodG1sOiBodG1sLCBzdHlsZTogc3R5bGUsIHByb3BlcnRpZXM6IFtdfSlcclxuZXhwb3J0IGNsYXNzIE1vbml0b3JMZWQgZXh0ZW5kcyBNb25pdG9yZWRPYmplY3QgaW1wbGVtZW50cyBJV2ViQ29tcG9uZW50LCBJUXVlcnlSZXN1bHRQcm9jZXNzb3Ige1xyXG5cclxuICAgIG1vbml0b3JlZF9vYmplY3RfaWQgID0gXCJcIjtcclxuICAgIGRhdGFfc291cmNlX2xvY2F0aW9uIDpzdHJpbmcgfCBudWxsID0gXCJcIjtcclxuICAgIG1vbml0b3JfbGVkX2RhdGEgICAgIDpTZXJ2ZXJMZWREYXRhID0gbmV3IFNlcnZlckxlZERhdGEoKTtcclxuXHJcbiAgICAvLyByZXR1cm4gYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbmFtZXMgb2YgdGhlIGF0dHJpYnV0ZXMgeW91IHdhbnQgdG8gb2JzZXJ2ZS4gIE5vdCBzdXJlIHdoeSB0aGlzIGlzIGhlcmUgeWV0LlxyXG4gICAgc3RhdGljIG9ic2VydmVkQXR0cmlidXRlcyAoKSB7fVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCBwcml2YXRlICRlbDogSFRNTEVsZW1lbnQsIHByaXZhdGUgJGhvc3Q6IEVsZW1lbnQgKSB7IFxyXG4gICAgICAgIHN1cGVyKCB7IG5ld19pZDogICAgICAgICAgICAgICAkaG9zdC5nZXRBdHRyaWJ1dGUoIFwibW9uaXRvcmVkX29iamVjdF9pZFwiICApLCBcclxuICAgICAgICAgICAgICAgICBkYXRhX3NvdXJjZV9sb2NhdGlvbjogJGhvc3QuZ2V0QXR0cmlidXRlKCBcImRhdGFfc291cmNlX2xvY2F0aW9uXCIgKSB9KTsgXHJcbiAgICAgICAgdGhpcy5kYXRhX3NvdXJjZV9sb2NhdGlvbiAgPSAkaG9zdC5nZXRBdHRyaWJ1dGUoICAgXCJkYXRhX3NvdXJjZV9sb2NhdGlvblwiICkgYXMgc3RyaW5nO1xyXG4gICAgICAgIHRoaXMubW9uaXRvcmVkX29iamVjdF9pZCAgID0gJGhvc3QuZ2V0QXR0cmlidXRlKCAgIFwibW9uaXRvcmVkX29iamVjdF9pZFwiICApIGFzIHN0cmluZzsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlZCBlYWNoIHRpbWUgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGFwcGVuZGVkIGludG8gYSBkb2N1bWVudC1jb25uZWN0ZWQgZWxlbWVudC5cclxuICAgICAqIFRoaXMgd2lsbCBoYXBwZW4gZWFjaCB0aW1lIHRoZSBub2RlIGlzIG1vdmVkLCBhbmQgbWF5IGhhcHBlbiBiZWZvcmUgdGhlIGVsZW1lbnQncyBjb250ZW50cyBoYXZlIGJlZW4gZnVsbHkgcGFyc2VkLlxyXG4gICAgICovXHJcbiAgICBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dVcGRhdGUoICdtb25pdG9yLWxlZCBjb25uZWN0ZWQnICk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKS5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHsgXHJcbiAgICAgICAgdGhpcy4kZWwuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb25pdG9yLWxlZFwiPiR7IHRoaXMubW9uaXRvcl9sZWRfZGF0YS5sZWRUZXh0IH08L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGxldCBtb25pdG9yX2xlZCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3I8IEhUTUxFbGVtZW50ID4oICcubW9uaXRvci1sZWQnICk7IFxyXG4gICAgICAgIG1vbml0b3JfbGVkIS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLm1vbml0b3JfbGVkX2RhdGEuY2xhc3NPYmplY3QuYmFja2dyb3VuZF9jb2xvcjtcclxuICAgICAgICBtb25pdG9yX2xlZCEuc3R5bGUudGV4dEFsaWduICAgICAgID0gdGhpcy5tb25pdG9yX2xlZF9kYXRhLmNsYXNzT2JqZWN0LnRleHRfYWxpZ247XHJcbiAgICAgICAgbW9uaXRvcl9sZWQhLnN0eWxlLm1hcmdpblRvcCAgICAgICA9IHRoaXMubW9uaXRvcl9sZWRfZGF0YS5jbGFzc09iamVjdC5tYXJnaW5fdG9wO1xyXG4gICAgICAgIG1vbml0b3JfbGVkIS5zdHlsZS5jb2xvciAgICAgICAgICAgPSB0aGlzLm1vbml0b3JfbGVkX2RhdGEuY2xhc3NPYmplY3QuY29sb3I7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEludm9rZWQgZWFjaCB0aW1lIHRoZSBjdXN0b20gZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgZG9jdW1lbnQncyBET00uICovXHJcbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjayAoKSB7IGNvbnNvbGUubG9nKCAnbW9uaXRvci1sZWQgZGlzY29ubmVjdGVkJyApOyB9XHJcblxyXG4gICAgLyoqIEludm9rZWQgZWFjaCB0aW1lIHRoZSBjdXN0b20gZWxlbWVudCBpcyBtb3ZlZCB0byBhIG5ldyBkb2N1bWVudC4gKi9cclxuICAgIGFkb3B0ZWRDYWxsYmFjayAoKSB7ICBjb25zb2xlLmxvZyggJ21vbml0b3ItbGVkIG1vdmVkJyApOyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VkIGVhY2ggdGltZSBvbmUgb2YgdGhlIGN1c3RvbSBlbGVtZW50J3MgYXR0cmlidXRlcyBpcyBhZGRlZCwgcmVtb3ZlZCwgb3IgY2hhbmdlZC5cclxuICAgICAqIFdoaWNoIGF0dHJpYnV0ZXMgdG8gbm90aWNlIGNoYW5nZSBmb3IgaXMgc3BlY2lmaWVkIGluIGEgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMgbWV0aG9kXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZVxyXG4gICAgICogQHBhcmFtIG5ld1ZhbHVlXHJcbiAgICAgKi9cclxuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayAoIG5hbWU6IHN0cmluZywgb2xkVmFsdWU6IGFueSwgbmV3VmFsdWU6IGFueSApIHtcclxuICAgICAgICBjb25zdCBuYW1lUHJvcCA9IG5hbWUucmVwbGFjZSggLy1bYS16QS1aXS9nLCAoIGZvdW5kOiBzdHJpbmcgKSA9PiBmb3VuZC5zbGljZSggMSApLnRvVXBwZXJDYXNlKCkgKTtcclxuICAgICAgICAoIHRoaXMgYXMgYW55IClbIG5hbWVQcm9wIF0gPSBuZXdWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmxvZ1VwZGF0ZSggXCJtb25pdG9yIGxlZCBjb21wb25lbnQgc3RhcnRpbmcuLi5cIiApO1xyXG4gICAgICAgIGxldCBzb3VyY2VfcXVlcnlfY29uZmlnID0geyBvYmplY3Rfdmlld19pZDogdGhpcy5tb25pdG9yZWRfb2JqZWN0X2lkLCBvYmplY3RfZGF0YToge319O1xyXG4gICAgICAgIGxldCBtb2RlbCAgICAgICAgICAgICAgID0gbmV3IE1vZGVsKCBuZXcgU291cmNlRGF0YSh7IFJ1bm5lcjogRmV0Y2hSdW5uZXIsIHVybDogdGhpcy5kYXRhX3NvdXJjZV9sb2NhdGlvbiEgfSkpO1xyXG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHsgbW9kZWwuc2VsZWN0T2JqZWN0KCBzb3VyY2VfcXVlcnlfY29uZmlnLCB0aGlzICk7IH0sIDI1MDAgKTsgfVxyXG5cclxuICAgIHByb2Nlc3NRdWVyeVJlc3VsdCggY2FsbGJhY2tPYmplY3Q6IE1vbml0b3JMZWQsIHF1ZXJ5X3Jlc3VsdDogYW55ICkge1xyXG4gICAgICAgIGlmKCAhcXVlcnlfcmVzdWx0IHx8ICFKU09OLnBhcnNlKCBxdWVyeV9yZXN1bHQgKS5vYmplY3RfZGF0YSApIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKCBKU09OLnBhcnNlKCBxdWVyeV9yZXN1bHQgKS5vYmplY3RfZGF0YSApO1xyXG4gICAgICAgIGRhdGEubW9uaXRvcl9sZWQgPSBjYWxsYmFja09iamVjdDtcclxuICAgICAgICBjYWxsYmFja09iamVjdC5tb25pdG9yX2xlZF9kYXRhID0gY2FsbGJhY2tPYmplY3QubW9uaXRvckxlZDtcclxuICAgICAgICBjYWxsYmFja09iamVjdC5yZW5kZXIoKTtcclxuICAgICAgICBsZXQgb2JqZWN0X2lkID0gY2FsbGJhY2tPYmplY3Qub2JqZWN0X3ZpZXdfaWQ7IC8vIFxyXG4gICAgICAgIGxldCB0aGVfbWF0Y2ggPSBvYmplY3RfaWQubWF0Y2goIC9cXGQrLyApIVswXSE7XHJcbiAgICAgICAgY29uc3QgZXZlbnRfbmFtZSA9IFwiZXZlbnQtXCIgKyBjYWxsYmFja09iamVjdC5rZWJhYml6ZSggY2FsbGJhY2tPYmplY3QuY29uc3RydWN0b3IubmFtZSApICsgXCItXCIgKyB0aGVfbWF0Y2g7XHJcbiAgICAgICAgbGV0IGxlZF9ldmVudCA9IG5ldyBDdXN0b21FdmVudCggZXZlbnRfbmFtZSwgeyBidWJibGVzOiB0cnVlLCBkZXRhaWw6IGRhdGEgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCggbGVkX2V2ZW50KTsgfSAvLyB0aGlzLiRlbWl0KCAnbGVkLWRhdGEnLCBkYXRhLm1vbml0b3JMZWREYXRhICk7IGRvZXNuJ3Qgd29yayEgXHJcbiAgICBcclxuICAgIGtlYmFiaXplKCBzdHI6IHN0cmluZyApIHtcclxuICAgICAgICByZXR1cm4gc3RyLnNwbGl0KCcnKS5tYXAoKGxldHRlciwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKSA9PT0gbGV0dGVyXHJcbiAgICAgICAgICAgID8gYCR7aWR4ICE9PSAwID8gJy0nIDogJyd9JHtsZXR0ZXIudG9Mb3dlckNhc2UoKX1gXHJcbiAgICAgICAgICAgIDogbGV0dGVyO1xyXG4gICAgfSkuam9pbignJyk7IH1cclxufVxyXG5cclxuLy8gUmVmLjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvV2ViX0NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzIiwiaW1wb3J0IElRdWVyeVJlc3VsdFByb2Nlc3NvciBmcm9tIFwiLi4vYWJzdHJhY3QvSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yXCI7XHJcblxyXG4vKiogQGNsYXNzIEZldGNoUnVubmVyIGNsYXNzICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZldGNoUnVubmVyIHtcclxuICAgIHVybCAgICAgICAgICAgICAgICA6c3RyaW5nO1xyXG4gICAgdXJsX2VuY29kZWRfaGVhZGVyIDpSZWNvcmQ8IHN0cmluZywgc3RyaW5nID47XHJcbiAgICBqc29uX2hlYWRlciAgICAgICAgOlJlY29yZDwgc3RyaW5nLCBzdHJpbmcgPjtcclxuICAgIGZldGNoX29wdGlvbnMgICAgICE6UmVxdWVzdEluaXQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoIGNvbmZpZzogeyBhcGlfcGF0aDogc3RyaW5nOyB9ICkge1xyXG4gICAgICAgIHRoaXMudXJsID0gY29uZmlnLmFwaV9wYXRoO1xyXG4gICAgICAgIHRoaXMudXJsX2VuY29kZWRfaGVhZGVyID0geyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiIH07XHJcbiAgICAgICAgdGhpcy5qc29uX2hlYWRlciAgICAgICAgPSB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiICAgICAgICAgICAgICAgICAgfTtcclxuICAgIH0gLy8gZXN0YWJsaXNoIGNvbW11bmljYXRpb24gYWRkcmVzcyBhbmQgZGVmaW5lIGhlYWRlciBvYmplY3RzLlxyXG5cclxuICAgIGFzeW5jIHJ1biggYXBpQXJnczogeyB0eXBlOiBzdHJpbmc7IH0sIGNhbGxiYWNrT2JqZWN0IDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICk6IFByb21pc2U8IHZvaWQgPiB7XHJcbiAgICAgICAgdGhpcy5mZXRjaF9vcHRpb25zID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICBhcGlBcmdzLnR5cGUsXHJcbiAgICAgICAgICAgIG1vZGU6ICAgIGFwaUFyZ3MudHlwZSA9PT0gXCJQT1NUXCIgPyAvKiBQT1NUICovICduby1jb3JzJyAgICAgICAgICAgICAgICAgOiAvKiBHRVQgKi8gdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBhcGlBcmdzLnR5cGUgPT09IFwiUE9TVFwiID8gLyogUE9TVCAqLyB0aGlzLmpzb25faGVhZGVyICAgICAgICAgIDogLyogR0VUICovIHRoaXMudXJsX2VuY29kZWRfaGVhZGVyLFxyXG4gICAgICAgICAgICBib2R5OiAgICBhcGlBcmdzLnR5cGUgPT09IFwiUE9TVFwiID8gLyogUE9TVCAqLyBKU09OLnN0cmluZ2lmeSggYXBpQXJncyApIDogLyogR0VUICovIHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZmV0Y2goIHRoaXMudXJsLCB0aGlzLmZldGNoX29wdGlvbnMgKS50aGVuKCByZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oIGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tPYmplY3QucHJvY2Vzc1F1ZXJ5UmVzdWx0KCBjYWxsYmFja09iamVjdCwgZGF0YSApO1xyXG4gICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgfSBjYXRjaCggZmV0Y2hfZXJyb3IgKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBmZXRjaF9lcnJvciApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyB4aHIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApOyAvLyBhbGxvd3MgXCJzcWw9XCIuLi4gc3ludGF4IVxyXG4iLCJpbXBvcnQgSUxvZ09iamVjdCAgICAgICBmcm9tIFwiLi4vYWJzdHJhY3QvSUxvZ09iamVjdFwiO1xuaW1wb3J0IE1vbml0b3JlZE9iamVjdCBmcm9tIFwiLi9Nb25pdG9yZWRPYmplY3QuanNcIjtcbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBjcmVhdGVzIGxvZyBvYmplY3RzIGdpdmluZyB0aGVtIGEgdW5pcXVlIGlkLFxuICogdGltZSBzdGFtcCwgYW5kIGRldGVybWluZWQgY2FsbGluZyBtZXRob2QuXG4gKlxuICogQGNsYXNzIExvZ09iamVjdEZhY3RvcnlcbiAqL1xuY2xhc3MgTG9nT2JqZWN0RmFjdG9yeSB7XG4gICAgc29tZU9iamVjdDogdW5rbm93bjtcbiAgICBjb25zdHJ1Y3RvcigpIHsgY29uc29sZS5sb2coICdjb25zdHJ1Y3RpbmcgTG9nT2JqZWN0RmFjdG9yeSBvYmplY3QuLi4nICk7IH1cblxuICAgIGNyZWF0ZUxvZ09iamVjdCggbWVzc2FnZUFyZzogc3RyaW5nLCBzb21lT2JqZWN0OiBNb25pdG9yZWRPYmplY3QgKSB7XG4gICAgICAgIGNvbnN0IHRpbWVfbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgcmFuZG9tX251bWJlciA9IE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwMDAwMCApO1xuICAgICAgICBjb25zdCBsb2dPYmplY3Q6IElMb2dPYmplY3QgPSB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVfbm93LFxuICAgICAgICAgICAgaWQ6ICAgICAgICBgJHsgc29tZU9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lIH1fJHsgcmFuZG9tX251bWJlciB9XyR7IHRpbWVfbm93IH1gLFxuICAgICAgICAgICAgbWVzc2FnZTogICBtZXNzYWdlQXJnLFxuICAgICAgICAgICAgbWV0aG9kOiAgICB0aGlzLl9nZXRDYWxsaW5nTWV0aG9kKCkgfTtcbiAgICAgICAgcmV0dXJuIGxvZ09iamVjdDsgfVxuXG4gICAgX2dldENhbGxpbmdNZXRob2QoKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IG5ldyBFcnJvcigpO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSggb2JqLCB0aGlzLl9nZXRDYWxsaW5nTWV0aG9kICk7XG4gICAgICAgIGlmICggb2JqLnN0YWNrPy5zcGxpdCggJ1xcbicgKVsgMiBdLm1hdGNoKCAvYXRcXHMrXFx3Ky4oXFx3KykvICkgPT0gbnVsbCApIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7IH1cbiAgICAgICAgbGV0IHNwbGl0X3N0YWNrID0gb2JqLnN0YWNrLnNwbGl0KCAnXFxuJyApWyAyIF07XG4gICAgICAgIGxldCBzcGxpdF9zdGFja19tYXRjaCA9IHNwbGl0X3N0YWNrLm1hdGNoKCAvYXRcXHMrXFx3Ky4oXFx3KykvICk7XG4gICAgICAgIGlmICggIXNwbGl0X3N0YWNrX21hdGNoICkgeyByZXR1cm4gXCJubyBzcGxpdF9zdGFja19tYXRjaCFcIjsgfVxuICAgICAgICByZXR1cm4gc3BsaXRfc3RhY2tfbWF0Y2hbIDEgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ09iamVjdEZhY3Rvcnk7XG4iLCJpbXBvcnQgU291cmNlRGF0YSBmcm9tIFwiLi9Tb3VyY2VEYXRhXCI7XHJcbmltcG9ydCBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgZnJvbSAnLi4vYWJzdHJhY3QvSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yJztcclxuaW1wb3J0IElTb3VyY2VRdWVyeUNvbmZpZyBmcm9tIFwiLi4vYWJzdHJhY3QvSVNvdXJjZVF1ZXJ5Q29uZmlnXCI7XHJcblxyXG4vKiogQGNsYXNzIE1vZGVsICovXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IE1vZGVsIGluc3RhbmNlIGFuZCBob29rcyB1cCB0aGUgc291cmNlRGF0YS5cclxuICpcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VEYXRhIEEgcmVmZXJlbmNlIHRvIHRoZSBjbGllbnQgc2lkZSBzb3VyY2VEYXRhIGNsYXNzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XHJcbiAgICBzb3VyY2VEYXRhOiBTb3VyY2VEYXRhO1xyXG4gICAgY29uc3RydWN0b3IoIHNvdXJjZURhdGE6IFNvdXJjZURhdGEgKSB7IHRoaXMuc291cmNlRGF0YSA9IHNvdXJjZURhdGE7IH1cclxuICAgIC8qKlxyXG4gICAgICogc2VsZWN0cyBvbmUgb2JqZWN0IGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsgZnVuY3Rpb24gfSBbIGNhbGxiYWNrT2JqZWN0IF0gVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiByZXRyaWV2ZWRcclxuICAgICAqL1xyXG4gICAgc2VsZWN0T2JqZWN0ICggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7IFxyXG4gICAgICAgIHRoaXMuc291cmNlRGF0YS5zZWxlY3RPYmplY3QoIHF1ZXJ5X2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFsbCBvYmplY3RzIGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsgZnVuY3Rpb24gfSBbIGNhbGxiYWNrT2JqZWN0IF0gVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgdGhlIG9iamVjdHMgaGF2ZSBiZWVuIHJldHJpZXZlZFxyXG4gICAgICovXHJcbiAgICBzZWxlY3RBbGxPYmplY3RzICggY2FsbGJhY2tPYmplY3Q6IElRdWVyeVJlc3VsdFByb2Nlc3NvciApIHsgdGhpcy5zb3VyY2VEYXRhLnNlbGVjdEFsbE9iamVjdHMoIGNhbGxiYWNrT2JqZWN0ICk7IH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCBpbnNlcnQgYW4gb2JqZWN0IGludG8gdGhlIGRhdGFiYXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeV9jb25maWcgVGhlIGNhbGwgdHlwZSwgb2JqZWN0IGlkIGFuZCBvYmplY3QgZGF0YVxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tPYmplY3QgVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgaW5zZXJ0aW5nIG5ldyBkYXRhXHJcbiAgICAgKi9cclxuICAgIGluc2VydE9iamVjdCAoIHF1ZXJ5X2NvbmZpZzogSVNvdXJjZVF1ZXJ5Q29uZmlnLCBjYWxsYmFja09iamVjdDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICkgeyB0aGlzLnNvdXJjZURhdGEuaW5zZXJ0T2JqZWN0KCBxdWVyeV9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cclxuICAgIC8qKlxyXG4gICAgICogV2lsbCB1cGRhdGUgYW4gZXhpc3Rpbmcgb2JqZWN0IGluIHRoZSBkYXRhYmFzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnlfY29uZmlnIFRoZSBjYWxsIHR5cGUsIG9iamVjdCBpZCBhbmQgb2JqZWN0IGRhdGFcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrT2JqZWN0IFRoZSBjYWxsYmFja09iamVjdCB0byBmaXJlIGFmdGVyIHRoZSB1cGRhdGVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlT2JqZWN0ICggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7IHRoaXMuc291cmNlRGF0YS51cGRhdGVPYmplY3QoIHF1ZXJ5X2NvbmZpZywgY2FsbGJhY2tPYmplY3QgKTsgfVxyXG59XHJcbiIsImltcG9ydCBNb25pdG9yTGVkQ2xhc3NPYmplY3QgZnJvbSBcIi4vTW9uaXRvckxlZENsYXNzT2JqZWN0XCI7XG4vKiogQGNsYXNzIE1vbml0b3JMZWQgKi9cblxuY2xhc3MgTW9uaXRvckxlZCB7XG4gICAgY2xhc3NPYmplY3Q6ICAgTW9uaXRvckxlZENsYXNzT2JqZWN0O1xuICAgIGxlZFRleHQ6ICAgICAgIHN0cmluZztcbiAgICBSVU5OSU5HX0NPTE9SOiBzdHJpbmc7XG4gICAgUEFTU19DT0xPUjogICAgc3RyaW5nO1xuICAgIEZBSUxfQ09MT1I6ICAgIHN0cmluZztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jbGFzc09iamVjdCAgID0gbmV3IE1vbml0b3JMZWRDbGFzc09iamVjdCgpO1xuICAgICAgICB0aGlzLmxlZFRleHQgICAgICAgPSBcInJlYWR5LlwiO1xuICAgICAgICB0aGlzLlJVTk5JTkdfQ09MT1IgPSBcImxpZ2h0eWVsbG93XCI7XG4gICAgICAgIHRoaXMuUEFTU19DT0xPUiAgICA9IFwibGlnaHRncmVlblwiO1xuICAgICAgICB0aGlzLkZBSUxfQ09MT1IgICAgPSBcIiNmYjY2NjZcIjsgLy8gbGlnaHRyZWQgaXMgbm90IHVuZGVyc3Rvb2QgYnkgQ1NTLiAgV2hhYWEuLi4gPz9cbiAgICB9XG5cbiAgICBzZXRGYWlsKCBmYWlsX21lc3NhZ2UgOiBzdHJpbmcgKSB7XG4gICAgICAgIHRoaXMuc2V0TGVkQmFja2dyb3VuZENvbG9yKCB0aGlzLkZBSUxfQ09MT1IgKTtcbiAgICAgICAgdGhpcy5zZXRMZWRUZXh0Q29sb3IoICAgICAgIFwid2hpdGVcIiAgICAgICAgICk7XG4gICAgICAgIHRoaXMuc2V0TGVkVGV4dCggICAgICAgICAgICBmYWlsX21lc3NhZ2UgICAgKTsgfVxuXG4gICAgc2V0TGVkQmFja2dyb3VuZENvbG9yKCBuZXdDb2xvciA6IHN0cmluZyApIHsgdGhpcy5jbGFzc09iamVjdC5iYWNrZ3JvdW5kX2NvbG9yID0gbmV3Q29sb3I7IH1cbiAgICBzZXRMZWRUZXh0Q29sb3IoICAgICAgIG5ld0NvbG9yIDogc3RyaW5nICkgeyB0aGlzLmNsYXNzT2JqZWN0LmNvbG9yICAgICAgICAgICAgPSBuZXdDb2xvcjsgfVxuICAgIHNldExlZFRleHQoICAgICAgICAgICAgbmV3VGV4dCAgOiBzdHJpbmcgKSB7IHRoaXMubGVkVGV4dCAgICAgICAgICAgICAgICAgICAgICA9IG5ld1RleHQgOyB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vbml0b3JMZWQ7XG4iLCIvKiogQGNsYXNzIE1vbml0b3JMZWRDbGFzc09iamVjdCAqL1xyXG5jbGFzcyBNb25pdG9yTGVkQ2xhc3NPYmplY3Qge1xyXG4gICAgYmFja2dyb3VuZF9jb2xvcjogc3RyaW5nO1xyXG4gICAgdGV4dF9hbGlnbjogc3RyaW5nO1xyXG4gICAgbWFyZ2luX3RvcDogc3RyaW5nO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRfY29sb3IgPSBcImxpZ2h0eWVsbG93XCI7XHJcbiAgICAgICAgdGhpcy50ZXh0X2FsaWduICAgICAgID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgdGhpcy5tYXJnaW5fdG9wICAgICAgID0gXCIycHhcIjtcclxuICAgICAgICB0aGlzLmNvbG9yICAgICAgICAgICAgPSBcImJsYWNrXCI7IH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9uaXRvckxlZENsYXNzT2JqZWN0O1xyXG4iLCJpbXBvcnQgRmV0Y2hSdW5uZXIgZnJvbSBcIi4vRmV0Y2hSdW5uZXJcIjtcbmltcG9ydCBJTG9nT2JqZWN0ICAgICAgIGZyb20gXCIuLi9hYnN0cmFjdC9JTG9nT2JqZWN0XCI7XG5pbXBvcnQgTG9nT2JqZWN0RmFjdG9yeSBmcm9tIFwiLi9Mb2dPYmplY3RGYWN0b3J5XCI7XG5pbXBvcnQgTW9kZWwgICAgICAgICAgICBmcm9tIFwiLi9Nb2RlbFwiO1xuaW1wb3J0IE1vbml0b3JMZWQgICAgICAgZnJvbSBcIi4vTW9uaXRvckxlZFwiO1xuaW1wb3J0IFNvdXJjZURhdGEgICAgICAgZnJvbSBcIi4vU291cmNlRGF0YVwiO1xuaW1wb3J0IFN0cmluZ2lmaWVyICAgICAgZnJvbSBcIi4vU3RyaW5naWZpZXJcIjtcbi8qKiBAY2xhc3MgIE1vbml0b3JlZE9iamVjdCAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uaXRvcmVkT2JqZWN0IHtcbiAgICBvYmplY3Rfdmlld19pZDogICAgIHN0cmluZztcbiAgICBsb2dPYmplY3RzOiAgICAgICAgIElMb2dPYmplY3RbXTtcbiAgICBtb2RlbDogICAgICAgICAgICAgIE1vZGVsO1xuICAgIGxvZ09iamVjdEZhY3Rvcnk6ICAgTG9nT2JqZWN0RmFjdG9yeTtcbiAgICBtb25pdG9yTGVkOiAgICAgICAgIE1vbml0b3JMZWQ7XG4gICAgc3RyaW5naWZpZXI6ICAgICAgICBTdHJpbmdpZmllcjtcbiAgICBjb25zdHJ1Y3RvciggY29uZmlnOiB7IG5ld19pZDogc3RyaW5nIHwgbnVsbCwgZGF0YV9zb3VyY2VfbG9jYXRpb246IHN0cmluZyB8IG51bGw7IH0gKSB7XG4gICAgICAgIGlmICggY29uZmlnLm5ld19pZD8ubGVuZ3RoID09PSAwICkgeyBjb25maWcubmV3X2lkID0gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqIDEwMDAgKyAxMDAwICkudG9TdHJpbmcoKTsgfVxuICAgICAgICBpZiAoIGNvbmZpZy5uZXdfaWQ/LmluY2x1ZGVzKCdfJykpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0X3ZpZXdfaWQgPSBjb25maWcubmV3X2lkXG4gICAgICAgIH0gZWxzZSB7IHRoaXMub2JqZWN0X3ZpZXdfaWQgPSBgJHsgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lIH1fJHsgY29uZmlnLm5ld19pZCB9YDsgfVxuICAgICAgICB0aGlzLmxvZ09iamVjdEZhY3RvcnkgID0gbmV3IExvZ09iamVjdEZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5sb2dPYmplY3RzICAgICAgICA9IFsgdGhpcy5sb2dPYmplY3RGYWN0b3J5LmNyZWF0ZUxvZ09iamVjdCggXCJjb25zdHJ1Y3RpbmcuLi5cIiwgdGhpcyApXTtcbiAgICAgICAgaWYgKCBjb25maWcuZGF0YV9zb3VyY2VfbG9jYXRpb24/Lmxlbmd0aCA9PT0gMCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLmRhdGEtc291cmNlLWxvY2F0aW9uJyApKSB7IFxuICAgICAgICAgICAgY29uZmlnLmRhdGFfc291cmNlX2xvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5kYXRhLXNvdXJjZS1sb2NhdGlvbicgKT8uaW5uZXJIVE1MIHx8IFwiXCIgfVxuICAgICAgICB0aGlzLm1vZGVsICAgICAgICAgICAgID0gbmV3IE1vZGVsKCBuZXcgU291cmNlRGF0YSh7IFJ1bm5lcjogRmV0Y2hSdW5uZXIsIHVybDogY29uZmlnLmRhdGFfc291cmNlX2xvY2F0aW9uISB9KSk7XG4gICAgICAgIHRoaXMubW9uaXRvckxlZCAgICAgICAgPSBuZXcgTW9uaXRvckxlZCgpO1xuICAgICAgICB0aGlzLnN0cmluZ2lmaWVyICAgICAgID0gbmV3IFN0cmluZ2lmaWVyKCk7XG4gICAgICAgIGNvbnN0IGRhdGFfY29uZmlnICAgICAgICA9IHsgb2JqZWN0X3ZpZXdfaWQ6IHRoaXMub2JqZWN0X3ZpZXdfaWQsIG9iamVjdF9kYXRhOiB0aGlzLnN0cmluZ2lmaWVyLnN0cmluZ2lmeSggdGhpcywgMywgbnVsbCwgMiApfTtcbiAgICAgICAgdGhpcy5tb2RlbC5pbnNlcnRPYmplY3QoIGRhdGFfY29uZmlnLCB0aGlzICk7IH0gLy8geHRyYSBsaW5lIG9mIGNvZGUsIGJ1dCBtb3JlIHJlYWRhYmxlXG5cbiAgICBsb2dVcGRhdGUoIG1lc3NhZ2UgOiBzdHJpbmcgKSB7XG4gICAgICAgIGlmICggIXRoaXMub2JqZWN0X3ZpZXdfaWQgKSB7ICBjb25zb2xlLmxvZyggXCIqKiogRVJST1I6IG9iamVjdCBuZWVkcyBhbiBpZCB0byBsb2cuICoqKlwiICk7IHJldHVybjsgfVxuICAgICAgICBpZiAoIG1lc3NhZ2UuaW5jbHVkZXMoIFwiRVJST1JcIiApKSB7IHRoaXMubW9uaXRvckxlZC5zZXRGYWlsKCBtZXNzYWdlICk7IH0gZWxzZSB7IHRoaXMubW9uaXRvckxlZC5zZXRMZWRUZXh0KCBtZXNzYWdlICk7IH1cbiAgICAgICAgdGhpcy5sb2dPYmplY3RzLnB1c2goIHRoaXMubG9nT2JqZWN0RmFjdG9yeS5jcmVhdGVMb2dPYmplY3QoIG1lc3NhZ2UsIHRoaXMgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIGNvbnN0IGRhdGFfY29uZmlnID0geyBvYmplY3Rfdmlld19pZDogdGhpcy5vYmplY3Rfdmlld19pZCwgb2JqZWN0X2RhdGE6IHRoaXMuc3RyaW5naWZpZXIuc3RyaW5naWZ5KCB0aGlzLCAzLCBudWxsLCAyICl9O1xuICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZU9iamVjdCggZGF0YV9jb25maWcsIHRoaXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOyB9XG4gICAgXG4gICAgXG4gICAgcHJvY2Vzc1F1ZXJ5UmVzdWx0KCBfZXZlbnQ6IGFueSwgcmVzdWx0czogeyBkYXRhOiBzdHJpbmcgfCBhbnlbXTsgfSApIHsgaWYgKCByZXN1bHRzLmRhdGEubGVuZ3RoID4gMCApIHsgY29uc29sZS5sb2coIHJlc3VsdHMuZGF0YSApOyB9fVxuICAgIGdldE9iamVjdFZpZXdJZCgpIHsgcmV0dXJuIHRoaXMub2JqZWN0X3ZpZXdfaWQ7IH1cbn1cbiIsIi8qKiBAY2xhc3MgU2VydmVyTGVkRGF0YSAqL1xyXG5pbXBvcnQgSU1vbml0b3JMZWREYXRhIGZyb20gXCIuLi9hYnN0cmFjdC9JTW9uaXRvckxlZERhdGFcIjtcclxuY2xhc3MgU2VydmVyTGVkRGF0YSBpbXBsZW1lbnRzIElNb25pdG9yTGVkRGF0YSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgY29uc29sZS5sb2coIFwiY29uc3RydWN0aW5nIFNlcnZlckxlZERhdGEuLi5cIiApOyB9IC8vIGh1c2ggd2FybmluZy5cclxuXHJcbiAgICBsZWRUZXh0ID0gXCJjaGVja2luZyBzdGF0dXMuLi5cIjtcclxuICAgIGNsYXNzT2JqZWN0ID0ge1xyXG4gICAgICAgIGJhY2tncm91bmRfY29sb3I6IFwibGlnaHR5ZWxsb3dcIixcclxuICAgICAgICB0ZXh0X2FsaWduOiBcImxlZnRcIixcclxuICAgICAgICBtYXJnaW5fdG9wOiBcIjRweFwiLFxyXG4gICAgICAgIGNvbG9yOiBcImJsYWNrXCIgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VydmVyTGVkRGF0YTtcclxuIiwiaW1wb3J0IElRdWVyeVJlc3VsdFByb2Nlc3NvciBmcm9tICcuLi9hYnN0cmFjdC9JUXVlcnlSZXN1bHRQcm9jZXNzb3InO1xuaW1wb3J0IElTb3VyY2VRdWVyeUNvbmZpZyBmcm9tICcuLi9hYnN0cmFjdC9JU291cmNlUXVlcnlDb25maWcnO1xuaW1wb3J0IElTb3VyY2VEYXRhQ29uZmlnIGZyb20gJy4uL2Fic3RyYWN0L0lTb3VyY2VEYXRhQ29uZmlnJztcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWd1cmF0aW9uX29iamVjdCB7XG4gKiAgICAgcnVubmVyOiB4aHIsIGZldGNoLCBvciBzb21lIG90aGVyIG9iamVjdCB0aGF0IG1ha2VzIEFKQVggY2FsbHNcbiAqICAgICB1cmwgICA6IHRoZSBwbGFjZSB3aGVyZSB0aGUgcnVubmVyIGlzIGdvaW5nIHRvIG1ha2UgdGhlIGFwaSBjYWxsXG4gKiB9XG4gKiBUaGUgY2FsbCB0eXBlLCBvYmplY3QgaWQgYW5kIG9iamVjdCBkYXRhXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja09iamVjdFxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291cmNlRGF0YSB7XG4gICAgUnVubmVyT2JqZWN0OiBhbnk7XG4gICAgdXJsOiAgICAgICAgICBzdHJpbmc7XG4gICAgY29uc3RydWN0b3IoIGNvbmZpZ3VyYXRpb25fb2JqZWN0OiBJU291cmNlRGF0YUNvbmZpZyApIHtcbiAgICAgICAgdGhpcy5SdW5uZXJPYmplY3QgPSBjb25maWd1cmF0aW9uX29iamVjdC5SdW5uZXI7XG4gICAgICAgIHRoaXMudXJsICAgICAgICAgID0gY29uZmlndXJhdGlvbl9vYmplY3QudXJsOyB9XG5cbiAgICAvKipcbiAgICAgKiBzZWxlY3RzIGFsbCBvYmplY3RzIGZyb20gdGhlIGRhdGFiYXNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tPYmplY3QgVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgdXBvbiByZXRyaWV2aW5nIGRhdGFcbiAgICAgKi9cbiAgICBzZWxlY3RBbGxPYmplY3RzKCBjYWxsYmFja09iamVjdDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICkge1xuICAgICAgICBjb25zdCBhcGlfcGF0aCA9IHRoaXMudXJsICsgXCJvYmplY3Qvc2VsZWN0QWxsXCI7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyB0aGlzLlJ1bm5lck9iamVjdCggYXBpX3BhdGggKTtcbiAgICAgICAgY29uc3QgcnVuX2NvbmZpZyA9IHsgdHlwZTogXCJHRVRcIiB9XG4gICAgICAgIHJ1bm5lci5ydW4oIHJ1bl9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cblxuICAgIC8qKlxuICAgICAqIHNlbGVjdHMgb25lIG9iamVjdCBmcm9tIHRoZSBkYXRhYmFzZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrT2JqZWN0IFRoZSBjYWxsYmFja09iamVjdCB0byBmaXJlIHVwb24gcmV0cmlldmluZyBkYXRhXG4gICAgICovXG4gICAgc2VsZWN0T2JqZWN0KCBxdWVyeV9jb25maWc6IElTb3VyY2VRdWVyeUNvbmZpZywgY2FsbGJhY2tPYmplY3Q6IElRdWVyeVJlc3VsdFByb2Nlc3NvciApIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0geyBhcGlfcGF0aDogdGhpcy51cmwgKyBcIm9iamVjdC9zZWxlY3QvXCIgKyBxdWVyeV9jb25maWcub2JqZWN0X3ZpZXdfaWQgfTtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IHRoaXMuUnVubmVyT2JqZWN0KCBjb25maWcgKTtcbiAgICAgICAgY29uc3QgcnVuX2NvbmZpZyA9IHsgdHlwZTogXCJHRVRcIiwgb2JqZWN0X3ZpZXdfaWQ6IHF1ZXJ5X2NvbmZpZy5vYmplY3Rfdmlld19pZCB9XG4gICAgICAgIHJ1bm5lci5ydW4oIHJ1bl9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgaW5zZXJ0IGFuIG9iamVjdCBpbnRvIHRoZSBkYXRhYmFzZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnlfY29uZmlnIFRoZSBjYWxsIHR5cGUsIG9iamVjdCBpZCBhbmQgb2JqZWN0IGRhdGFcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja09iamVjdCBUaGUgY2FsbGJhY2tPYmplY3QgdG8gZmlyZSBhZnRlciBpbnNlcnRpbmcgbmV3IGRhdGFcbiAgICAgKi9cbiAgICBpbnNlcnRPYmplY3QoIHF1ZXJ5X2NvbmZpZzogSVNvdXJjZVF1ZXJ5Q29uZmlnLCBjYWxsYmFja09iamVjdDogSVF1ZXJ5UmVzdWx0UHJvY2Vzc29yICkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB7IGFwaV9wYXRoOiB0aGlzLnVybCArIFwib2JqZWN0L2luc2VydFwiIH07XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyB0aGlzLlJ1bm5lck9iamVjdCggY29uZmlnICk7XG4gICAgICAgIGNvbnN0IHJ1bl9jb25maWcgPSB7IHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF92aWV3X2lkOiBxdWVyeV9jb25maWcub2JqZWN0X3ZpZXdfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X2RhdGE6ICAgIHF1ZXJ5X2NvbmZpZy5vYmplY3RfZGF0YSB9O1xuICAgICAgICBydW5uZXIucnVuKCBydW5fY29uZmlnLCBjYWxsYmFja09iamVjdCApOyB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHVwZGF0ZSBhbiBleGlzdGluZyBvYmplY3QgaW4gdGhlIGRhdGFiYXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHF1ZXJ5X2NvbmZpZyBUaGUgY2FsbCB0eXBlLCBvYmplY3QgaWQgYW5kIG9iamVjdCBkYXRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tPYmplY3QgVGhlIGNhbGxiYWNrT2JqZWN0IHRvIGZpcmUgYWZ0ZXIgdGhlIHVwZGF0ZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB1cGRhdGVPYmplY3QoIHsgXCJvYmplY3Rfdmlld19pZFwiOiBcIlBhcnNlcl81XCIsIFwib2JqZWN0X2RhdGFcIjogeyBcImxlZF9jb2xvclwiOiBcInJlZFwifX0sIGNhbGxiYWNrT2JqZWN0LnByb2Nlc3NRdWVyeVJlc3VsdCApIHtcbiAgICAgKiAgICAgLy8gd2lsbCB1cGRhdGUgb2JqZWN0IHdpdGggb2JqZWN0X3ZpZXdfaWQgUGFyc2VyXzUncyBsZWRfY29sb3IgdG8gcmVkLlxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHVwZGF0ZU9iamVjdCggcXVlcnlfY29uZmlnOiBJU291cmNlUXVlcnlDb25maWcsIGNhbGxiYWNrT2JqZWN0OiBJUXVlcnlSZXN1bHRQcm9jZXNzb3IgKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHsgYXBpX3BhdGg6IHRoaXMudXJsICsgXCJvYmplY3QvdXBkYXRlXCIgfTtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IHRoaXMuUnVubmVyT2JqZWN0KCBjb25maWcgKTtcbiAgICAgICAgY29uc3QgcnVuX2NvbmZpZyA9IHsgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3ZpZXdfaWQ6IHF1ZXJ5X2NvbmZpZy5vYmplY3Rfdmlld19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RfZGF0YTogICAgcXVlcnlfY29uZmlnLm9iamVjdF9kYXRhIH07XG4gICAgICAgIHJ1bm5lci5ydW4oIHJ1bl9jb25maWcsIGNhbGxiYWNrT2JqZWN0ICk7IH1cbn1cbiIsIi8qKiBAY2xhc3MgU3RyaW5naWZpZXIgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmluZ2lmaWVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8vIHJlcGxhY2VyOiAoKHRoaXM6IGFueSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkgKSA9PiBhbnkgKSB8IG51bGwsIC4uLiBub3RpY2UgdGhlIHBhcmVudGhlc2VzLCB0aGVzZSBhcmUgbmVlZGVkLlxuICAgIHN0cmluZ2lmeSAoIHZhbDogYW55LCBkZXB0aDogbnVtYmVyLCByZXBsYWNlcjogKCh0aGlzOiBhbnksIGtleTogc3RyaW5nLCB2YWx1ZTogYW55ICkgPT4gYW55ICkgfCBudWxsLCBzcGFjZT86IHN0cmluZyB8IG51bWJlciwgb25HZXRPYmpJRD86ICggdmFsOiBvYmplY3QgKSA9PiBzdHJpbmcgKTogc3RyaW5nIHtcbiAgICAgICAgZGVwdGggPSBpc05hTiggK2RlcHRoICkgPyAxIDogZGVwdGg7XG4gICAgICAgIHZhciByZWN1cnNNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICBmdW5jdGlvbiBfYnVpbGQgKCB2YWw6IGFueSwgZGVwdGg6IG51bWJlciwgbz86IGFueSwgYT86IGJvb2xlYW4sIHI/OiBib29sZWFuICkge1xuICAgICAgICAgICAgcmV0dXJuICF2YWwgfHwgdHlwZW9mIHZhbCAhPSAnb2JqZWN0JyA/IHZhbFxuICAgICAgICAgICAgICAgIDogKCByID0gcmVjdXJzTWFwLmhhcyggdmFsICksXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc01hcC5zZXQoIHZhbCwgdHJ1ZSApLFxuICAgICAgICAgICAgICAgICAgICBhID0gQXJyYXkuaXNBcnJheSggdmFsICksXG4gICAgICAgICAgICAgICAgICAgIHIgPyAoIG8gPSBvbkdldE9iaklEICYmIG9uR2V0T2JqSUQoIHZhbCApIHx8IG51bGwgKSA6IEpTT04uc3RyaW5naWZ5KCB2YWwsIGZ1bmN0aW9uICggaywgdiApIHsgaWYgKCBhIHx8IGRlcHRoID4gMCApIHsgaWYgKCByZXBsYWNlciApIHYgPSByZXBsYWNlciggaywgdiApOyBpZiAoICFrICkgcmV0dXJuICggYSA9IEFycmF5LmlzQXJyYXkoIHYgKSwgdmFsID0gdiApOyAhbyAmJiAoIG8gPSBhID8gW10gOiB7fSApOyBvWyBrIF0gPSBfYnVpbGQoIHYsIGEgPyBkZXB0aCA6IGRlcHRoIC0gMSApOyB9IH0gKSxcbiAgICAgICAgICAgICAgICAgICAgbyA9PT0gdm9pZCAwID8gKCBhID8gW10gOiB7fSApIDogbyApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSggX2J1aWxkKCB2YWwsIGRlcHRoICksIG51bGwsIHNwYWNlICk7XG4gICAgfVxufSAgICBcblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM4NjEyNTQvanNvbi1zdHJpbmdpZnktZGVlcC1vYmplY3RzLzU3MTkzMzQ1IzU3MTkzMzQ1IC8vIHR5cGVzY3JpcHQgdmVyc2lvblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9